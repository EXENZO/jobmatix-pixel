(function(Ce,N){typeof exports=="object"&&typeof module<"u"?N(exports):typeof define=="function"&&define.amd?define(["exports"],N):(Ce=typeof globalThis<"u"?globalThis:Ce||self,N(Ce.pixel={}))})(this,function(Ce){"use strict";var N=function(){return N=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},N.apply(this,arguments)};function ue(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var In={exports:{}},tt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(tt){var rt=new Uint8Array(16);In.exports=function(){return tt(rt),rt}}else{var ot=new Array(16);In.exports=function(){for(var t=0,n;t<16;t++)t&3||(n=Math.random()*4294967296),ot[t]=n>>>((t&3)<<3)&255;return ot}}for(var it=In.exports,at=[],en=0;en<256;++en)at[en]=(en+256).toString(16).substr(1);function gr(e,t){var n=t||0,r=at;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}var st=gr,pr=it,mr=st,ut,Pn,Cn=0,An=0;function hr(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=e.node||ut,s=e.clockseq!==void 0?e.clockseq:Pn;if(a==null||s==null){var f=pr();a==null&&(a=ut=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Pn=(f[6]<<8|f[7])&16383)}var u=e.msecs!==void 0?e.msecs:new Date().getTime(),l=e.nsecs!==void 0?e.nsecs:An+1,d=u-Cn+(l-An)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||u>Cn)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Cn=u,An=l,Pn=s,u+=122192928e5;var w=((u&268435455)*1e4+l)%4294967296;o[r++]=w>>>24&255,o[r++]=w>>>16&255,o[r++]=w>>>8&255,o[r++]=w&255;var h=u/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=h&255,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var T=0;T<6;++T)o[r+T]=a[T];return t||mr(o)}var wr=hr,yr=it,xr=st;function Sr(e,t,n){var r=t&&n||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||yr)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t)for(var a=0;a<16;++a)t[r+a]=o[a];return t||xr(o)}var Tr=Sr,br=wr,ft=Tr,kn=ft;kn.v1=br,kn.v4=ft;var te=kn;/*!
 * Core functionality for Snowplow JavaScript trackers v3.13.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */var Ir="3.13.1";function Pr(e){if(!e)return e;var t=4-e.length%4;switch(t){case 2:e+="==";break;case 3:e+="=";break}var n=e.replace(/-/g,"+").replace(/_/g,"/");return kr(n)}function Cr(e){if(!e)return e;var t=Ar(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ar(e){var t,n,r,o,a,s,f,u,l=0,d=0,w=[];if(!e)return e;e=unescape(encodeURIComponent(e));do t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),u=t<<16|n<<8|r,o=u>>18&63,a=u>>12&63,s=u>>6&63,f=u&63,w[d++]=fe.charAt(o)+fe.charAt(a)+fe.charAt(s)+fe.charAt(f);while(l<e.length);var h=w.join(""),T=e.length%3;return(T?h.slice(0,T-3):h)+"===".slice(T||3)}function kr(e){var t=function(I){return decodeURIComponent(I.split("").map(function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""))},n,r,o,a,s,f,u,l,d=0,w=0,h="",T=[];if(!e)return e;e+="";do a=fe.indexOf(e.charAt(d++)),s=fe.indexOf(e.charAt(d++)),f=fe.indexOf(e.charAt(d++)),u=fe.indexOf(e.charAt(d++)),l=a<<18|s<<12|f<<6|u,n=l>>16&255,r=l>>8&255,o=l&255,f===64?T[w++]=String.fromCharCode(n):u===64?T[w++]=String.fromCharCode(n,r):T[w++]=String.fromCharCode(n,r,o);while(d<e.length);return h=T.join(""),t(h.replace(/\0+$/,""))}function On(){var e={},t=[],n=[],r=[],o,a=function(l,d){d!=null&&d!==""&&(e[l]=d)},s=function(l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&a(d,l[d])},f=function(l,d,w){if(w&&lt(w)){var h={keyIfEncoded:l,keyIfNotEncoded:d,json:w};n.push(h),t.push(h)}},u=function(l){r.push(l)};return{add:a,addDict:s,addJson:f,addContextEntity:u,getPayload:function(){return e},getJson:function(){return t},withJsonProcessor:function(l){o=l},build:function(){return o==null||o(this,n,r),e}}}function Or(e){return function(t,n,r){for(var o=function(h,T,I){var p=JSON.stringify(h);e?t.add(T,Cr(p)):t.add(I,p)},a=function(){var h=t.getPayload();if(e?h.cx:h.co)return JSON.parse(e?Pr(h.cx):h.co)},s=function(h,T){var I=h||a();return I?I.data=I.data.concat(T.data):I=T,I},f=void 0,u=0,l=n;u<l.length;u++){var d=l[u];d.keyIfEncoded==="cx"?f=s(f,d.json):o(d.json,d.keyIfEncoded,d.keyIfNotEncoded)}if(n.length=0,r.length){var w={schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:ue([],r,!0)};f=s(f,w),r.length=0}f&&o(f,"cx","co")}}function lt(e){if(!ct(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function ct(e){return typeof e<"u"&&e!==null&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var nn="Snowplow: ",re;(function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"})(re||(re={}));var Z=Er();function Er(e){e===void 0&&(e=re.warn);function t(s){re[s]?e=s:e=re.warn}function n(s,f){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];if(e>=re.error&&typeof console<"u"){var d=nn+s+`
`;f?console.error.apply(console,ue([d+`
`,f],u,!1)):console.error.apply(console,ue([d],u,!1))}}function r(s,f){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];if(e>=re.warn&&typeof console<"u"){var d=nn+s;f?console.warn.apply(console,ue([d+`
`,f],u,!1)):console.warn.apply(console,ue([d],u,!1))}}function o(s){for(var f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];e>=re.debug&&typeof console<"u"&&console.debug.apply(console,ue([nn+s],f,!1))}function a(s){for(var f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];e>=re.info&&typeof console<"u"&&console.info.apply(console,ue([nn+s],f,!1))}return{setLogLevel:t,warn:r,error:n,debug:o,info:a}}function Dr(){var e=[],t=[],n=function(r){var o=Lr(r),a=Mr(r),s=[],f=Dn(e,r,a,o);s.push.apply(s,f);var u=Xr(t,r,a,o);return s.push.apply(s,u),s};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(r){for(var o=[],a=[],s=0,f=r;s<f.length;s++){var u=f[s];ht(u)?o.push(u):Ae(u)&&a.push(u)}e=e.concat(a),t=t.concat(o)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(r){for(var o=function(u){ht(u)?t=t.filter(function(l){return JSON.stringify(l)!==JSON.stringify(u)}):Ae(u)&&(e=e.filter(function(l){return JSON.stringify(l)!==JSON.stringify(u)}))},a=0,s=r;a<s.length;a++){var f=s[a];o(f)}},getApplicableContexts:function(r){return n(r)}}}function Rr(e){return{addPluginContexts:function(t){var n=t?ue([],t,!0):[];return e.forEach(function(r){try{r.contexts&&n.push.apply(n,r.contexts())}catch(o){Z.error("Error adding plugin contexts",o)}}),n}}}function Nr(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=e==null?void 0:e.map(function(o){if(typeof o=="function")try{return o.apply(void 0,n)}catch{return}else return o}).filter(Boolean))!==null&&t!==void 0?t:[]}function Ur(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$"),n=t.exec(e);if(n!==null)return n.slice(1,6)}function _r(e){if(e[0]==="*"||e[1]==="*")return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++){var o=r[n];if(o==="*")t=!0;else if(t)return!1}return!0}else if(e.length==2)return!0;return!1}function dt(e){var t=e.split(".");return t&&t.length>1?_r(t):!1}function vt(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$"),n=t.exec(e);if(n!==null&&dt(n[1]))return n.slice(1,6)}function En(e){var t=vt(e);if(t){var n=t[0];return t.length===5&&dt(n)}return!1}function Br(e){return Array.isArray(e)&&e.every(function(t){return typeof t=="string"})}function gt(e){return Br(e)?e.every(function(t){return En(t)}):typeof e=="string"?En(e):!1}function He(e){var t=e;return lt(t)&&"schema"in t&&"data"in t?typeof t.schema=="string"&&typeof t.data=="object":!1}function Vr(e){var t=e,n=0;if(e!=null&&typeof e=="object"&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept"))if(gt(t.accept))n+=1;else return!1;if(Object.prototype.hasOwnProperty.call(t,"reject"))if(gt(t.reject))n+=1;else return!1;return n>0&&n<=2}return!1}function tn(e){return typeof e=="function"&&e.length<=1}function Ae(e){return tn(e)||He(e)}function pt(e){return Array.isArray(e)&&e.length===2?Array.isArray(e[1])?tn(e[0])&&e[1].every(Ae):tn(e[0])&&Ae(e[1]):!1}function mt(e){return Array.isArray(e)&&e.length===2&&Vr(e[0])?Array.isArray(e[1])?e[1].every(Ae):Ae(e[1]):!1}function ht(e){return pt(e)||mt(e)}function jr(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some(function(s){return rn(s,t)})&&r++:typeof o=="string"&&rn(o,t)&&r++;var a=e.reject;return Array.isArray(a)?e.reject.some(function(s){return rn(s,t)})&&n++:typeof a=="string"&&rn(a,t)&&n++,r>0&&n===0?!0:(r===0&&n>0,!1)}function rn(e,t){if(!En(e))return!1;var n=vt(e),r=Ur(t);if(n&&r){if(!Hr(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!wt(n[o],r[o]))return!1;return!0}return!1}function Hr(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!wt(n[o],r[o]))return!1;return!0}return!1}function wt(e,t){return e&&t&&e==="*"||e===t}function Lr(e){for(var t=e.getJson(),n=0,r=t;n<r.length;n++){var o=r[n];if(o.keyIfEncoded==="ue_px"&&typeof o.json.data=="object"){var a=o.json.data.schema;if(typeof a=="string")return a}}return""}function Mr(e){var t=e.getPayload().e;return typeof t=="string"?t:""}function Fr(e,t,n,r){var o=void 0;try{var a={event:t.getPayload(),eventType:n,eventSchema:r};return o=e(a),Array.isArray(o)&&o.every(He)||He(o)?o:void 0}catch{o=void 0}return o}function yt(e){return Array.isArray(e)?e:Array.of(e)}function Dn(e,t,n,r){var o,a=yt(e),s=function(u){var l=zr(u,t,n,r);if(l&&l.length!==0)return l},f=a.map(s);return(o=[]).concat.apply(o,f.filter(function(u){return u!=null&&u.filter(Boolean)}))}function zr(e,t,n,r){if(He(e))return[e];if(tn(e)){var o=Fr(e,t,n,r);if(He(o))return[o];if(Array.isArray(o))return o}}function Jr(e,t,n,r){if(pt(e)){var o=e[0],a=!1;try{var s={event:t.getPayload(),eventType:n,eventSchema:r};a=o(s)}catch{a=!1}if(a===!0)return Dn(e[1],t,n,r)}else if(mt(e)&&jr(e[0],r))return Dn(e[1],t,n,r);return[]}function Xr(e,t,n,r){var o,a=yt(e),s=function(u){var l=Jr(u,t,n,r);if(l&&l.length!==0)return l},f=a.map(s);return(o=[]).concat.apply(o,f.filter(function(u){return u!=null&&u.filter(Boolean)}))}function qr(e){return e==null?{type:"dtm",value:new Date().getTime()}:typeof e=="number"?{type:"dtm",value:e}:e.type==="ttm"?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||new Date().getTime()}}function Wr(e){e===void 0&&(e={});function t(u,l,d){var w=Rr(l),h=Dr(),T=u,I={};function p(v){if(v&&v.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:v}}function E(v,C){var L=h.getApplicableContexts(v),R=[];return C&&C.length&&R.push.apply(R,C),L&&L.length&&R.push.apply(R,L),R}function B(v,C,L){v.withJsonProcessor(Or(T)),v.add("eid",te.v4()),v.addDict(I);var R=qr(L);v.add(R.type,R.value.toString());var K=E(v,w.addPluginContexts(C)),ie=p(K);ie!==void 0&&v.addJson("cx","co",ie),l.forEach(function(z){try{z.beforeTrack&&z.beforeTrack(v)}catch(ae){Z.error("Plugin beforeTrack",ae)}}),typeof d=="function"&&d(v);var G=v.build();return l.forEach(function(z){try{z.afterTrack&&z.afterTrack(G)}catch(ae){Z.error("Plugin afterTrack",ae)}}),G}function y(v,C){I[v]=C}var F={track:B,addPayloadPair:y,getBase64Encoding:function(){return T},setBase64Encoding:function(v){T=v},addPayloadDict:function(v){for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&(I[C]=v[C])},resetPayloadPairs:function(v){I=ct(v)?v:{}},setTrackerVersion:function(v){y("tv",v)},setTrackerNamespace:function(v){y("tna",v)},setAppId:function(v){y("aid",v)},setPlatform:function(v){y("p",v)},setUserId:function(v){y("uid",v)},setScreenResolution:function(v,C){y("res",v+"x"+C)},setViewport:function(v,C){y("vp",v+"x"+C)},setColorDepth:function(v){y("cd",v)},setTimezone:function(v){y("tz",v)},setLang:function(v){y("lang",v)},setIpAddress:function(v){y("ip",v)},setUseragent:function(v){y("ua",v)},addGlobalContexts:function(v){h.addGlobalContexts(v)},clearGlobalContexts:function(){h.clearGlobalContexts()},removeGlobalContexts:function(v){h.removeGlobalContexts(v)}};return F}var n=e.base64,r=e.corePlugins,o=e.callback,a=r??[],s=t(n??!0,a,o),f=N(N({},s),{addPlugin:function(u){var l,d,w=u.plugin;a.push(w),(l=w.logger)===null||l===void 0||l.call(w,Z),(d=w.activateCorePlugin)===null||d===void 0||d.call(w,f)}});return a==null||a.forEach(function(u){var l,d;(l=u.logger)===null||l===void 0||l.call(u,Z),(d=u.activateCorePlugin)===null||d===void 0||d.call(u,f)}),f}function xt(e){var t=e.event,n=t.schema,r=t.data,o=On(),a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",a),o}function Yr(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=On();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}function Gr(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,a=e.maxXOffset,s=e.minYOffset,f=e.maxYOffset,u=On();return u.add("e","pp"),u.add("url",t),u.add("page",n),u.add("refr",r),o&&!isNaN(Number(o))&&u.add("pp_mix",o.toString()),a&&!isNaN(Number(a))&&u.add("pp_max",a.toString()),s&&!isNaN(Number(s))&&u.add("pp_miy",s.toString()),f&&!isNaN(Number(f))&&u.add("pp_may",f.toString()),u}function Qr(e){var t=e.targetUrl,n=e.elementId,r=e.elementClasses,o=e.elementTarget,a=e.elementContent,s={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:$r({targetUrl:t,elementId:n,elementClasses:r,elementTarget:o,elementContent:a})};return xt({event:s})}function $r(e,t){t===void 0&&(t={});var n={};for(var r in e)(t[r]||e[r]!==null&&typeof e[r]<"u")&&(n[r]=e[r]);return n}var Zr=Ir,St={exports:{}},Tt={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],o=0,a=0;o<n.length;o++,a+=8)r[a>>>5]|=n[o]<<24-a%32;return r},wordsToBytes:function(n){for(var r=[],o=0;o<n.length*32;o+=8)r.push(n[o>>>5]>>>24-o%32&255);return r},bytesToHex:function(n){for(var r=[],o=0;o<n.length;o++)r.push((n[o]>>>4).toString(16)),r.push((n[o]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],o=0;o<n.length;o+=2)r.push(parseInt(n.substr(o,2),16));return r},bytesToBase64:function(n){for(var r=[],o=0;o<n.length;o+=3)for(var a=n[o]<<16|n[o+1]<<8|n[o+2],s=0;s<4;s++)o*8+s*6<=n.length*8?r.push(e.charAt(a>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],o=0,a=0;o<n.length;a=++o%4)a!=0&&r.push((e.indexOf(n.charAt(o-1))&Math.pow(2,-2*a+8)-1)<<a*2|e.indexOf(n.charAt(o))>>>6-a*2);return r}};Tt.exports=t})();var Kr=Tt.exports,Rn={utf8:{stringToBytes:function(e){return Rn.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Rn.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},bt=Rn;(function(){var e=Kr,t=bt.utf8,n=bt.bin,r=function(a){a.constructor==String?a=t.stringToBytes(a):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString());var s=e.bytesToWords(a),f=a.length*8,u=[],l=1732584193,d=-271733879,w=-1732584194,h=271733878,T=-1009589776;s[f>>5]|=128<<24-f%32,s[(f+64>>>9<<4)+15]=f;for(var I=0;I<s.length;I+=16){for(var p=l,E=d,B=w,y=h,F=T,v=0;v<80;v++){if(v<16)u[v]=s[I+v];else{var C=u[v-3]^u[v-8]^u[v-14]^u[v-16];u[v]=C<<1|C>>>31}var L=(l<<5|l>>>27)+T+(u[v]>>>0)+(v<20?(d&w|~d&h)+1518500249:v<40?(d^w^h)+1859775393:v<60?(d&w|d&h|w&h)-1894007588:(d^w^h)-899497514);T=h,h=w,w=d<<30|d>>>2,d=l,l=L}l+=p,d+=E,w+=B,h+=y,T+=F}return[l,d,w,h,T]},o=function(a,s){var f=e.wordsToBytes(r(a));return s&&s.asBytes?f:s&&s.asString?n.bytesToString(f):e.bytesToHex(f)};o._blocksize=16,o._digestsize=20,St.exports=o})();var eo=St.exports;const no=vr(eo);/*!
 * Core functionality for Snowplow Browser trackers v3.13.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function to(e){try{var t=window.localStorage,n=t.getItem(e+".expires");if(n===null||+n>Date.now())return t.getItem(e);t.removeItem(e),t.removeItem(e+".expires");return}catch{return}}function on(e,t,n){n===void 0&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+n*1e3;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch{return!1}}function It(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch{return!1}}function Pt(e){try{return window.sessionStorage.getItem(e)}catch{return}}function ro(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch{return!1}}function Ct(e){return!!(e&&typeof e.valueOf()=="string")}function At(e){return Number.isInteger&&Number.isInteger(e)||typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function kt(e){if(!Ct(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&t[0]!=null&&(e=t[0].text)}return e}function an(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e}function Ot(e){var t=e.length;return e.charAt(--t)==="."&&(e=e.slice(0,t)),e.slice(0,2)==="*."&&(e=e.slice(1)),e}function Nn(e){var t=window,n=Le("referrer",t.location.href)||Le("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch{}return document.referrer}function Y(e,t,n,r){if(e.addEventListener)return e.addEventListener(t,n,r),!0;if(e.attachEvent)return e.attachEvent("on"+t,n);e["on"+t]=n}function Le(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function oo(e,t,n){var r=t+"="+n,o=e.split("#"),a=o[0].split("?"),s=a.shift(),f=a.join("?");if(!f)f=r;else{for(var u=!0,l=f.split("&"),d=0;d<l.length;d++)if(l[d].substr(0,t.length+1)===t+"="){u=!1,l[d]=r,f=l.join("&");break}u&&(f=r+"&"+f)}return o[0]=s+"?"+f,o.join("#")}function io(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+new Date().getTime(),a="_test_value_"+new Date().getTime(),s=n.split("."),f=s.length-2;f>=0;f--){var u=s.slice(f).join(".");if(ve(o,a,0,"/",u,e,t),ve(o)===a){sn(o,u,e,t);for(var l=ao(r),d=0;d<l.length;d++)sn(l[d],u,e,t);return u}}return n}function sn(e,t,n,r){ve(e,"",-1,"/",t,n,r)}function ao(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function ve(e,t,n,r,o,a,s){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(t??"")+(n?"; Expires="+new Date(+new Date+n*1e3).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(a?"; SameSite="+a:"")+(s?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function so(e){if(e==null||typeof e!="object"||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=lo(e);return fo(e,function(r){return uo(r,n)===t})}function Et(e){return e.className.match(/\S+/g)||[]}function uo(e,t){for(var n=Et(e),r=0,o=n;r<o.length;r++){var a=o[r];if(t[a])return!0}return!1}function fo(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function lo(e){var t={},n=e.allowlist||e.denylist;if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)t[n[r]]=!0}return t}function co(){try{return!!window.localStorage}catch{return!0}}function vo(){var e="modernizr";if(!co())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch{return!1}}var go="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",po="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/1-0-0",mo="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",ho="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function wo(e,t,n,r,o,a,s,f,u,l,d,w,h,T,I,p){var E=!1,B,y=[];r=typeof r=="string"?r.toLowerCase():r;var F=r===!0||r==="beacon"||r==="true",v=!!(F&&window.navigator&&window.navigator.sendBeacon&&!We(window.navigator.userAgent)),C=v&&F,L=r==="get",R=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),K=!L&&R&&(r==="post"||F),ie=K?o:"/i",G="snowplowOutQueue_".concat(e,"_").concat(K?"post2":"get");if(F&&(h={}),a=n&&vo()&&K&&a||1,n)try{var z=window.localStorage.getItem(G);y=z?JSON.parse(z):[]}catch{}Array.isArray(y)||(y=[]),t.outQueues.push(y),R&&a>1&&t.bufferFlushers.push(function(m){E||ee(m)});function ae(m){var b="?",S={co:!0,cx:!0},x=!0;for(var P in m)m.hasOwnProperty(P)&&!S.hasOwnProperty(P)&&(x?x=!1:b+="&",b+=encodeURIComponent(P)+"="+encodeURIComponent(m[P]));for(var A in S)m.hasOwnProperty(A)&&S.hasOwnProperty(A)&&(b+="&"+A+"="+encodeURIComponent(m[A]));return b}function Oe(m){var b=Object.keys(m).map(function(S){return[S,m[S]]}).reduce(function(S,x){var P=x[0],A=x[1];return S[P]=A.toString(),S},{});return{evt:b,bytes:Ee(JSON.stringify(b))}}function Ee(m){for(var b=0,S=0;S<m.length;S++){var x=m.charCodeAt(S);x<=127?b+=1:x<=2047?b+=2:x>=55296&&x<=57343?(b+=4,S++):x<65535?b+=3:b+=4}return b}var we=function(m){return typeof m[0]=="object"};function De(m,b){var S=ye(b,!0,!1);S.send(xe(Se([m.evt])))}function Xe(m,b){B=b+ie;var S=function(D,Re){return Z.warn("Event ("+D+"B) too big, max is "+Re)};if(K){var x=Oe(m);if(x.bytes>=s){S(x.bytes,s),De(x,B);return}else y.push(x)}else{var P=ae(m);if(f>0){var A=Te(P),J=Ee(A);if(J>=f){if(S(J,f),R){var x=Oe(m),X=b+o;De(x,X)}return}}y.push(P)}var H=!1;n&&(H=on(G,JSON.stringify(y.slice(0,l)))),!E&&(!H||y.length>=a)&&ee()}function ee(m){for(m===void 0&&(m=!1);y.length&&typeof y[0]!="string"&&typeof y[0]!="object";)y.shift();if(y.length<1){E=!1;return}if(!Ct(B))throw"No collector configured";if(E=!0,R){var b=function(j){for(var q=0,fn=0;q<j.length&&(fn+=j[q].bytes,!(fn>=s));)q+=1;return q},S=void 0,x,P;we(y)?(S=B,x=ye(S,!0,m),P=b(y)):(S=Te(y[0]),x=ye(S,!1,m),P=1);var A=setTimeout(function(){x.abort(),E=!1},d),J=function(j){for(var q=0;q<j;q++)y.shift();n&&on(G,JSON.stringify(y.slice(0,l)))},X=function(j){J(j),ee()};if(x.onreadystatechange=function(){x.readyState===4&&x.status>=200&&(clearTimeout(A),x.status<300?X(P):(qe(x.status)||(Z.error("Status ".concat(x.status,", will not retry.")),J(P)),E=!1))},!we(y))x.send();else{var H=y.slice(0,P);if(H.length>0){var D=!1,Re=H.map(function(j){return j.evt});if(C){var se=new Blob([xe(Se(Re))],{type:"application/json"});try{D=navigator.sendBeacon(S,se)}catch{D=!1}}D===!0?X(P):x.send(xe(Se(Re)))}}}else if(!w&&!we(y)){var Ne=new Image(1,1),V=!0;Ne.onload=function(){V&&(V=!1,y.shift(),n&&on(G,JSON.stringify(y.slice(0,l))),ee())},Ne.onerror=function(){V&&(V=!1,E=!1)},Ne.src=Te(y[0]),setTimeout(function(){V&&E&&(V=!1,ee())},d)}else E=!1}function qe(m){return m>=200&&m<300?!1:I.includes(m)?!0:!p.includes(m)}function ye(m,b,S){var x=new XMLHttpRequest;b?(x.open("POST",m,!S),x.setRequestHeader("Content-Type","application/json; charset=UTF-8")):x.open("GET",m,!S),x.withCredentials=T,w&&x.setRequestHeader("SP-Anonymous","*");for(var P in h)Object.prototype.hasOwnProperty.call(h,P)&&x.setRequestHeader(P,h[P]);return x}function xe(m){return JSON.stringify({schema:ho,data:m})}function Se(m){for(var b=new Date().getTime().toString(),S=0;S<m.length;S++)m[S].stm=b;return m}function Te(m){return u?B+m.replace("?","?stm="+new Date().getTime()+"&"):B+m}return{enqueueRequest:Xe,executeQueue:function(){E||ee()},setUseLocalStorage:function(m){n=m},setAnonymousTracking:function(m){w=m},setCollectorUrl:function(m){B=m+ie},setBufferSize:function(m){a=m}};function We(m){return b(13,m)||S(10,15,m)&&x(m);function b(A,J){var X=J.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return X&&X.length?parseInt(X[0])<=A:!1}function S(A,J,X){var H=X.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return H&&H.length?parseInt(H[0])<=A||parseInt(H[0])===A&&parseInt(H[1])<=J:!1}function x(A){return A.match("Version/.* Safari/")&&!P(A)}function P(A){return A.match("Chrom(e|ium)")}}}function yo(e,t){var n=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)"),r=n.exec(e);return r&&(r==null?void 0:r.length)>1?Le(t,r[1]):null}function Dt(e,t,n){var r;return e==="translate.googleusercontent.com"?(n===""&&(n=t),t=(r=yo(t,"u"))!==null&&r!==void 0?r:"",e=an(t)):(e==="cc.bingj.com"||e==="webcache.googleusercontent.com")&&(t=document.links[0].href,e=an(t)),[e,t,n]}var Rt=0,ge=1,xo=2,Me=3,Un=4,Nt=5,le=6,ke=7,pe=8,me=9,oe=10;function So(){var e=["1","",0,0,0,void 0,"","","",void 0,0];return e}function To(e,t,n,r){var o=new Date,a=Math.round(o.getTime()/1e3),s;e?(s=e.split("."),s.unshift("0")):s=["1",t,a,r,a,"",n],(!s[le]||s[le]==="undefined")&&(s[le]=te.v4()),(!s[ke]||s[ke]==="undefined")&&(s[ke]=""),(!s[pe]||s[pe]==="undefined")&&(s[pe]=""),(!s[me]||s[me]==="undefined")&&(s[me]=""),(!s[oe]||s[oe]==="undefined")&&(s[oe]=0);var f=function(d,w){var h=parseInt(d);return isNaN(h)?w:h},u=function(d){return d?f(d,void 0):void 0},l=[s[Rt],s[ge],f(s[xo],a),f(s[Me],r),f(s[Un],a),u(s[Nt]),s[le],s[ke],s[pe],u(s[me]),f(s[oe],0)];return l}function bo(e,t){var n;return e[ge]?n=e[ge]:t?(n="",e[ge]=n):(n=te.v4(),e[ge]=n),n}function Fe(e,t){t===void 0&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;jn(e)?(e[ke]=e[le],e[Nt]=e[Un],e[Me]++):e[Me]=n;var r=te.v4();return e[le]=r,e[oe]=0,e[pe]="",e[me]=void 0,r}function _n(e){e[Un]=Math.round(new Date().getTime()/1e3)}function Io(e,t){if(e[oe]===0){var n=t.build();e[pe]=n.eid;var r=n.dtm||n.ttm;e[me]=r?parseInt(r):void 0}}function Po(e){e[oe]+=1}function Co(e){return e.shift(),e.join(".")}function Ut(e,t,n){var r=e[me],o={userId:n?"00000000-0000-0000-0000-000000000000":e[ge],sessionId:e[le],eventIndex:e[oe],sessionIndex:e[Me],previousSessionId:n?null:e[ke]||null,storageMechanism:t=="localStorage"?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[pe]||null,firstEventTimestamp:r?new Date(r).toISOString():null};return o}function Bn(e){return e[le]}function Ao(e){return e[ge]}function Vn(e){return e[Me]}function jn(e){return e[Rt]==="0"}function ko(e){return e[oe]}var ze="x";function Hn(){return{viewport:Ln(Oo()),documentSize:Ln(Eo()),resolution:Ln(Do()),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency}}function Oo(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return e>=0&&t>=0?e+ze+t:null}function Eo(){var e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n);return isNaN(r)||isNaN(o)?"":r+ze+o}function Do(){return screen.width+ze+screen.height}function Ln(e){return e&&e.split(ze).map(function(t){return Math.floor(Number(t))}).join(ze)}function Ro(e,t,n,r,o,a){a===void 0&&(a={});var s=[],f=function(d,w,h,T,I,p){var E,B,y,F,v,C,L,R,K,ie,G,z,ae,Oe,Ee,we,De,Xe,ee,qe,ye,xe,Se,Te,We,m,b,S;p.eventMethod=(E=p.eventMethod)!==null&&E!==void 0?E:"post";var x=function(i){var c;return(c=i.stateStorageStrategy)!==null&&c!==void 0?c:"cookieAndLocalStorage"},P=function(i){var c,g;return typeof i.anonymousTracking=="boolean"?!1:(g=((c=i.anonymousTracking)===null||c===void 0?void 0:c.withSessionTracking)===!0)!==null&&g!==void 0?g:!1},A=function(i){var c,g;return typeof i.anonymousTracking=="boolean"?!1:(g=((c=i.anonymousTracking)===null||c===void 0?void 0:c.withServerAnonymisation)===!0)!==null&&g!==void 0?g:!1},J=function(i){return!!i.anonymousTracking},X=(y=(B=p==null?void 0:p.contexts)===null||B===void 0?void 0:B.browser)!==null&&y!==void 0?y:!1,H=(v=(F=p==null?void 0:p.contexts)===null||F===void 0?void 0:F.webPage)!==null&&v!==void 0?v:!0;s.push(di()),H&&s.push(li()),X&&s.push(ci()),s.push.apply(s,(C=p.plugins)!==null&&C!==void 0?C:[]);var D=Wr({base64:p.encodeBase64,corePlugins:s,callback:si}),Re=document.characterSet||document.charset,se=Dt(window.location.hostname,window.location.href,Nn()),Ne=Ot(se[0]),V=se[1],j=se[2],q,fn=(L=p.platform)!==null&&L!==void 0?L:"web",Fn=ar(T),$o=(R=p.postPath)!==null&&R!==void 0?R:"/com.snowplowanalytics.snowplow/tp2",Zo=(K=p.appId)!==null&&K!==void 0?K:"",ln,Ue=document.title,Ye,Ko=(ie=p.resetActivityTrackingOnPageView)!==null&&ie!==void 0?ie:!0,Mt,Ft,ei=(G=p.cookieName)!==null&&G!==void 0?G:"_sp_",Ge=(z=p.cookieDomain)!==null&&z!==void 0?z:void 0,zn="/",cn=(ae=p.cookieSameSite)!==null&&ae!==void 0?ae:"None",dn=(Oe=p.cookieSecure)!==null&&Oe!==void 0?Oe:!0,zt=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Jt=typeof p.respectDoNotTrack<"u"?p.respectDoNotTrack&&(zt==="yes"||zt==="1"):!1,Jn,Xt=(Ee=p.cookieLifetime)!==null&&Ee!==void 0?Ee:63072e3,qt=(we=p.sessionCookieTimeout)!==null&&we!==void 0?we:1800,_e=P(p),Xn=A(p),ne=J(p),k=x(p),vn,qn=new Date().getTime(),gn,pn,mn,hn,Wt,wn,Q,$=1,be,ce=wo(d,I,k=="localStorage"||k=="cookieAndLocalStorage",p.eventMethod,$o,(De=p.bufferSize)!==null&&De!==void 0?De:1,(Xe=p.maxPostBytes)!==null&&Xe!==void 0?Xe:4e4,(ee=p.maxGetBytes)!==null&&ee!==void 0?ee:0,(qe=p.useStm)!==null&&qe!==void 0?qe:!0,(ye=p.maxLocalStorageQueueSize)!==null&&ye!==void 0?ye:1e3,(xe=p.connectionTimeout)!==null&&xe!==void 0?xe:5e3,Xn,(Se=p.customHeaders)!==null&&Se!==void 0?Se:{},(Te=p.withCredentials)!==null&&Te!==void 0?Te:!0,(We=p.retryStatusCodes)!==null&&We!==void 0?We:[],((m=p.dontRetryStatusCodes)!==null&&m!==void 0?m:[]).concat([400,401,403,410,422])),Yt=!1,Gt=!1,W={enabled:!1,installed:!1,configurations:{}},ni=(S=(b=p.contexts)===null||b===void 0?void 0:b.session)!==null&&S!==void 0?S:!1,yn,xn=p.onSessionUpdateCallback,Wn=!1;p.hasOwnProperty("discoverRootDomain")&&p.discoverRootDomain&&(Ge=io(cn,dn));var Sn=Hn(),ti=Sn.browserLanguage,ri=Sn.resolution,oi=Sn.colorDepth,ii=Sn.cookiesEnabled;D.setTrackerVersion(h),D.setTrackerNamespace(w),D.setAppId(Zo),D.setPlatform(fn),D.addPayloadPair("cookie",ii?"1":"0"),D.addPayloadPair("cs",Re),D.addPayloadPair("lang",ti),D.addPayloadPair("res",ri),D.addPayloadPair("cd",oi),Kt(),ir(),p.crossDomainLinker&&$t(p.crossDomainLinker);function Ie(){se=Dt(window.location.hostname,window.location.href,Nn()),se[1]!==V&&(j=Nn(V)),Ne=Ot(se[0]),V=se[1]}function Qt(i){var c=new Date().getTime(),g=i.currentTarget;g!=null&&g.href&&(g.href=oo(g.href,"_sp",wn+"."+c))}function $t(i){for(var c=0;c<document.links.length;c++){var g=document.links[c];!g.spDecorationEnabled&&i(g)&&(Y(g,"click",Qt,!0),Y(g,"mousedown",Qt,!0),g.spDecorationEnabled=!0)}}function Pe(i){var c;return Mt&&(c=new RegExp("#.*"),i=i.replace(c,"")),Ft&&(c=new RegExp("[{}]","g"),i=i.replace(c,"")),i}function Zt(i){var c=new RegExp("^([a-z]+):"),g=c.exec(i);return g?g[1]:null}function ai(i,c){var g=Zt(c),U;return g?c:c.slice(0,1)==="/"?Zt(i)+"://"+an(i)+c:(i=Pe(i),(U=i.indexOf("?"))>=0&&(i=i.slice(0,U)),(U=i.lastIndexOf("/"))!==i.length-1&&(i=i.slice(0,U+1)),i+c)}function si(i){Jt||yn||ce.enqueueRequest(i.build(),Fn)}function Be(i){return ei+i+"."+Wt}function Yn(i){var c=Be(i);if(k=="localStorage")return to(c);if(k=="cookie"||k=="cookieAndLocalStorage")return ve(c)}function Kt(){Ie(),Wt=no((Ge||Ne)+(zn||"/")).slice(0,4)}function Qe(){var i=new Date;vn=i.getTime()}function ui(){fi(),Qe()}function er(){var i=document.documentElement;return i?[i.scrollLeft||window.pageXOffset,i.scrollTop||window.pageYOffset]:[0,0]}function nr(){var i=er(),c=i[0];gn=c,pn=c;var g=i[1];mn=g,hn=g}function fi(){var i=er(),c=i[0];c<gn?gn=c:c>pn&&(pn=c);var g=i[1];g<mn?mn=g:g>hn&&(hn=g)}function Tn(i){return Math.round(i)}function Gn(){var i=Be("ses"),c="*";return tr(i,c,qt)}function Qn(i){var c=Be("id"),g=Co(i);return tr(c,g,Xt)}function tr(i,c,g){return ne&&!_e?!1:k=="localStorage"?on(i,c,g):k=="cookie"||k=="cookieAndLocalStorage"?(ve(i,c,g,zn,Ge,cn,dn),document.cookie.indexOf("".concat(i,"="))!==-1):!1}function rr(i){var c=Be("id"),g=Be("ses");It(c),It(g),sn(c,Ge,cn,dn),sn(g,Ge,cn,dn),i!=null&&i.preserveSession||(Q=te.v4(),$=1),i!=null&&i.preserveUser||(wn=ne?"":te.v4(),be=null)}function or(i){i&&i.stateStorageStrategy&&(p.stateStorageStrategy=i.stateStorageStrategy,k=x(p)),ne=J(p),_e=P(p),Xn=A(p),ce.setUseLocalStorage(k=="localStorage"||k=="cookieAndLocalStorage"),ce.setAnonymousTracking(Xn)}function ir(){if(!(ne&&!_e)){var i=k!="none"&&!!Yn("ses"),c=$e();wn=bo(c,ne),i?Q=Bn(c):Q=Fe(c),$=Vn(c),k!="none"&&(Gn(),_n(c),Qn(c))}}function $e(){if(k=="none")return So();var i=Yn("id")||void 0;return To(i,wn,Q,$)}function ar(i){return i.indexOf("http")===0?i:(document.location.protocol==="https:"?"https":"http")+"://"+i}function sr(){(!Yt||I.pageViewId==null)&&(I.pageViewId=te.v4())}function $n(){return I.pageViewId==null&&(I.pageViewId=te.v4()),I.pageViewId}function ur(){if(k==="none"||ne||!H)return null;var i="_sp_tab_id",c=Pt(i);return c||(ro(i,te.v4()),c=Pt(i)),c||null}function li(){return{contexts:function(){return[{schema:go,data:{id:$n()}}]}}}function ci(){return{contexts:function(){return[{schema:po,data:N(N({},Hn()),{tabId:ur()})}]}}}function di(){var i=function(g){return ne?null:g},c=function(g){return _e?g:i(g)};return{beforeTrack:function(g){var U=Yn("ses"),O=$e(),de=ko(O)===0;if(Jn?yn=!!ve(Jn):yn=!1,Jt||yn){rr();return}jn(O)?(!U&&k!="none"?Q=Fe(O):Q=Bn(O),$=Vn(O)):new Date().getTime()-qn>qt*1e3&&($++,Q=Fe(O,{memorizedVisitCount:$})),_n(O),Io(O,g),Po(O);var M=Hn(),Ve=M.viewport,Ze=M.documentSize;g.add("vp",Ve),g.add("ds",Ze),g.add("vid",c($)),g.add("sid",c(Q)),g.add("duid",i(Ao(O))),g.add("uid",i(be)),Ie(),g.add("refr",Pe(q||j)),g.add("url",Pe(ln||V));var Ke=Ut(O,k,ne);if(ni&&(!ne||_e)&&vi(g,Ke),k!="none"){Qn(O);var Kn=Gn();(!U||de)&&Kn&&xn&&!Wn&&(xn(Ke),Wn=!1)}qn=new Date().getTime()}}}function vi(i,c){var g={schema:mo,data:c};i.addContextEntity(g)}function gi(){var i=$e();if(jn(i)?(k!="none"?Q=Fe(i):Q=Bn(i),$=Vn(i)):($++,Q=Fe(i,{memorizedVisitCount:$})),_n(i),k!="none"){var c=Ut(i,k,ne);Qn(i);var g=Gn();g&&xn&&(Wn=!0,xn(c))}qn=new Date().getTime()}function Zn(i,c){return(i||[]).concat(c?c():[])}function pi(i){var c=i.title,g=i.context,U=i.timestamp,O=i.contextCallback;Ie(),Gt&&sr(),Gt=!0,Ue=document.title,Ye=c;var de=kt(Ye||Ue);D.track(Yr({pageUrl:Pe(ln||V),pageTitle:de,referrer:Pe(q||j)}),Zn(g,O),U);var M=new Date,Ve=!1;if(W.enabled&&!W.installed){W.installed=!0,Ve=!0;var Ze={update:function(){if(typeof window<"u"&&typeof window.addEventListener=="function"){var je=!1,bn=Object.defineProperty({},"passive",{get:function(){je=!0},set:function(){}}),cr=function(){};window.addEventListener("testPassiveEventSupport",cr,bn),window.removeEventListener("testPassiveEventSupport",cr,bn),Ze.hasSupport=je}}};Ze.update();var Ke="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(Ze,"hasSupport")?Y(document,Ke,Qe,{passive:!0}):Y(document,Ke,Qe),nr();var Kn=["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"],yi=["resize","focus","blur"],et=function(xi,je){return je===void 0&&(je=Qe),function(bn){return Y(document,bn,je)}};Kn.forEach(et(document)),yi.forEach(et(window)),et(window,ui)("scroll")}if(W.enabled&&(Ko||Ve)){vn=M.getTime();var lr=void 0;for(lr in W.configurations){var nt=W.configurations[lr];nt&&(window.clearInterval(nt.activityInterval),mi(nt,g,O))}}}function mi(i,c,g){var U=function(M,Ve){Ie(),M({context:Ve,pageViewId:$n(),minXOffset:gn,minYOffset:mn,maxXOffset:pn,maxYOffset:hn}),nr()},O=function(){var M=new Date;vn+i.configMinimumVisitLength>M.getTime()&&U(i.callback,Zn(c,g)),i.activityInterval=window.setInterval(de,i.configHeartBeatTimer)},de=function(){var M=new Date;vn+i.configHeartBeatTimer>M.getTime()&&U(i.callback,Zn(c,g))};i.configMinimumVisitLength!=0?i.activityInterval=window.setTimeout(O,i.configMinimumVisitLength):i.activityInterval=window.setInterval(de,i.configHeartBeatTimer)}function fr(i){var c=i.minimumVisitLength,g=i.heartbeatDelay,U=i.callback;if(At(c)&&At(g))return{configMinimumVisitLength:c*1e3,configHeartBeatTimer:g*1e3,callback:U};Z.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function hi(i){var c=i.context,g=i.minXOffset,U=i.minYOffset,O=i.maxXOffset,de=i.maxYOffset,M=document.title;M!==Ue&&(Ue=M,Ye=void 0),D.track(Gr({pageUrl:Pe(ln||V),pageTitle:kt(Ye||Ue),referrer:Pe(q||j),minXOffset:Tn(g),maxXOffset:Tn(O),minYOffset:Tn(U),maxYOffset:Tn(de)}),c)}var wi={getDomainSessionIndex:function(){return $},getPageViewId:$n,getTabId:ur,newSession:gi,getCookieName:function(i){return Be(i)},getUserId:function(){return be},getDomainUserId:function(){return $e()[1]},getDomainUserInfo:function(){return $e()},setReferrerUrl:function(i){q=i},setCustomUrl:function(i){Ie(),ln=ai(V,i)},setDocumentTitle:function(i){Ue=document.title,Ye=i},discardHashTag:function(i){Mt=i},discardBrace:function(i){Ft=i},setCookiePath:function(i){zn=i,Kt()},setVisitorCookieTimeout:function(i){Xt=i},crossDomainLinker:function(i){$t(i)},enableActivityTracking:function(i){W.configurations.pagePing||(W.enabled=!0,W.configurations.pagePing=fr(N(N({},i),{callback:hi})))},enableActivityTrackingCallback:function(i){W.configurations.callback||(W.enabled=!0,W.configurations.callback=fr(i))},updatePageActivity:function(){Qe()},setOptOutCookie:function(i){Jn=i},setUserId:function(i){be=i},setUserIdFromLocation:function(i){Ie(),be=Le(i,V)},setUserIdFromReferrer:function(i){Ie(),be=Le(i,j)},setUserIdFromCookie:function(i){be=ve(i)},setCollectorUrl:function(i){Fn=ar(i),ce.setCollectorUrl(Fn)},setBufferSize:function(i){ce.setBufferSize(i)},flushBuffer:function(i){i===void 0&&(i={}),ce.executeQueue(),i.newBufferSize&&ce.setBufferSize(i.newBufferSize)},trackPageView:function(i){i===void 0&&(i={}),pi(i)},preservePageViewId:function(){Yt=!0},disableAnonymousTracking:function(i){p.anonymousTracking=!1,or(i),ir(),ce.executeQueue()},enableAnonymousTracking:function(i){var c;p.anonymousTracking=(c=i&&(i==null?void 0:i.options))!==null&&c!==void 0?c:!0,or(i),_e||sr()},clearUserData:rr};return N(N({},wi),{id:d,namespace:w,core:D,sharedState:I})},u=f(e,t,n,r,o,a),l=N(N({},u),{addPlugin:function(d){var w,h;l.core.addPlugin(d),(h=(w=d.plugin).activateBrowserPlugin)===null||h===void 0||h.call(w,l)}});return s.forEach(function(d){var w;(w=d.activateBrowserPlugin)===null||w===void 0||w.call(d,l)}),l}var Je={};function un(e,t){try{Uo(e??_o()).forEach(t)}catch(n){Z.error("Function failed",n)}}function No(e,t,n,r,o,a){return Je.hasOwnProperty(e)?null:(Je[e]=Ro(e,t,n,r,o,a),Je[e])}function Uo(e){return Bo(e,Je)}function _o(){return Object.keys(Je)}function Bo(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r];t.hasOwnProperty(a)?n.push(t[a]):Z.warn(a+" not configured")}return n}var Vo=function(){function e(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]}return e}();function jo(){var e=new Vo,t=document,n=window;function r(){t.visibilityState=="hidden"&&e.bufferFlushers.forEach(function(f){f(!1)})}function o(){e.bufferFlushers.forEach(function(f){f(!1)})}function a(){var f;if(!e.hasLoaded)for(e.hasLoaded=!0,f=0;f<e.registeredOnLoadHandlers.length;f++)e.registeredOnLoadHandlers[f]();return!0}function s(){t.addEventListener?t.addEventListener("DOMContentLoaded",function f(){t.removeEventListener("DOMContentLoaded",f,!1),a()}):t.attachEvent&&t.attachEvent("onreadystatechange",function f(){t.readyState==="complete"&&(t.detachEvent("onreadystatechange",f),a())}),Y(n,"load",a,!1)}return t.visibilityState&&Y(t,"visibilitychange",r,!1),Y(n,"beforeunload",o,!1),document.readyState==="loading"?s():a(),e}/*!
 * Browser tracker for Snowplow v3.13.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */function Ho(e,t){un(t,function(n){n.setReferrerUrl(e)})}function Lo(e,t){un(t,function(n){n.enableActivityTracking(e)})}function Mo(e,t){un(t,function(n){n.trackPageView(e)})}function Fo(e,t){un(t,function(n){n.core.track(xt({event:e.event}),e.context,e.timestamp)})}var _t=typeof window<"u"?jo():void 0;function zo(e,t,n){if(n===void 0&&(n={}),_t)return No(e,e,"js-".concat(Zr),t,_t,n)}/*!
 * Link Click tracking for Snowplow v3.13.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */var he={},_={};function Jo(){return{activateBrowserPlugin:function(e){he[e.id]=e}}}function Xo(e,t){e===void 0&&(e={}),t===void 0&&(t=Object.keys(he)),t.forEach(function(n){he[n]&&(he[n].sharedState.hasLoaded?(Vt(e,n),jt(n)):he[n].sharedState.registeredOnLoadHandlers.push(function(){Vt(e,n),jt(n)}))})}function Bt(e,t,n){for(var r,o,a,s,f,u;(r=t.parentElement)!==null&&r!=null&&(o=t.tagName.toUpperCase())!=="A"&&o!=="AREA";)t=r;var l=t;if(l.href!=null){var d=l.hostname||an(l.href),w=d.toLowerCase(),h=l.href.replace(d,w),T=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");T.test(h)||(a=l.id,s=Et(l),f=l.target,u=_[e.id].linkTrackingContent?l.innerHTML:void 0,h=unescape(h),e.core.track(Qr({targetUrl:h,elementId:a,elementClasses:s,elementTarget:f,elementContent:u}),Nr(n,t)))}}function Mn(e,t){return function(n){var r,o;n=n||window.event,r=n.which||n.button,o=n.target||n.srcElement,n.type==="click"?o&&Bt(he[e],o,t):n.type==="mousedown"?(r===1||r===2)&&o?(_[e].lastButton=r,_[e].lastTarget=o):_[e].lastButton=_[e].lastTarget=null:n.type==="mouseup"&&(r===_[e].lastButton&&o===_[e].lastTarget&&Bt(he[e],o,t),_[e].lastButton=_[e].lastTarget=null)}}function qo(e,t){_[e].linkTrackingPseudoClicks?(Y(t,"mouseup",Mn(e,_[e].linkTrackingContext),!1),Y(t,"mousedown",Mn(e,_[e].linkTrackingContext),!1)):Y(t,"click",Mn(e,_[e].linkTrackingContext),!1)}function Vt(e,t){var n=e===void 0?{}:e,r=n.options,o=n.pseudoClicks,a=n.trackContent,s=n.context;_[t]={linkTrackingContent:a,linkTrackingContext:s,linkTrackingPseudoClicks:o,linkTrackingFilter:so(r)}}function jt(e){var t,n,r=document.links,o;for(o=0;o<r.length;o++)!((n=(t=_[e]).linkTrackingFilter)===null||n===void 0)&&n.call(t,r[o])&&!r[o][e]&&(qo(e,r[o]),r[o][e]=!0)}const Wo={enableActivityTracking:Lo,setReferrerUrl:Ho,trackPageView:Mo,trackSelfDescribingEvent:Fo,enableLinkClickTracking:Xo};function Ht(){const e=document.querySelector(`script[src="${Yo}"]`);return e==null?void 0:e.getAttribute("id")}const Yo="https://unpkg.com/@jobmatix.com/pixel/script.min.js",Go="https://pixel.jobmatix.app",Lt=Ht();if(!Lt)throw new Error("App ID not found");zo("sp",Go,{appId:Lt,plugins:[Jo()],eventMethod:"post",platform:"web",cookieName:"_sp_",cookieSameSite:"Lax",contexts:{webPage:!0,performanceTiming:!0}});const Qo=window.jobmatix.q||[];window.jobmatix=(...e)=>{const[t,...n]=e,r=Wo[t];r?r(...n):console.error(`Function ${t} not found`)},Qo.forEach(e=>{window.jobmatix(...e)}),Ce.getAppId=Ht,Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"})});
