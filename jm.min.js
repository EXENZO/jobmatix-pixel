(e=>{"function"==typeof define&&define.amd?define(e):e()})(function(){var ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function He(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var S,T,e={exports:{}},C=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);C?(S=new Uint8Array(16),e.exports=function(){return C(S),S}):(T=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),T[t]=e>>>((3&t)<<3)&255;return T});for(var e=e.exports,A=[],t=0;t<256;++t)A[t]=(t+256).toString(16).substr(1);function O(e,t){var t=t||0,n=A;return[n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[+t]]].join("")}var P,I,j=e,E=O,L=0,D=0;var _=e,N=O;function R(e,t,n){var r=t&&n||0,o=("string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),(e=e||{}).random||(e.rng||_)());if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||N(o)}var e=R,Je=(e.v1=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||P,n=void 0!==e.clockseq?e.clockseq:I,a=(null!=i&&null!=n||(a=j(),null==i&&(i=P=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==n&&(n=I=16383&(a[6]<<8|a[7]))),void 0!==e.msecs?e.msecs:(new Date).getTime()),c=void 0!==e.nsecs?e.nsecs:D+1,u=a-L+(c-D)/1e4;if(u<0&&void 0===e.clockseq&&(n=n+1&16383),1e4<=(c=(u<0||L<a)&&void 0===e.nsecs?0:c))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");L=a,I=n,u=(1e4*(268435455&(a+=122192928e5))+(D=c))%4294967296,o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u,o[r++]=(e=a/4294967296*1e4&268435455)>>>8&255,o[r++]=255&e,o[r++]=e>>>24&15|16,o[r++]=e>>>16&255,o[r++]=n>>>8|128,o[r++]=255&n;for(var s=0;s<6;++s)o[r+s]=i[s];return t||E(o)},e.v4=R,e);function B(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}var t,n,r,o,i,a=e.replace(/-/g,"+").replace(/_/g,"/"),c=0,u=0,s=[];if(!a)return a;for(a+="";i=f.indexOf(a.charAt(c++)),n=f.indexOf(a.charAt(c++)),r=f.indexOf(a.charAt(c++)),o=f.indexOf(a.charAt(c++)),n=(i=i<<18|n<<12|r<<6|o)>>16&255,t=i>>8&255,i=255&i,s[u++]=64===r?String.fromCharCode(n):64===o?String.fromCharCode(n,t):String.fromCharCode(n,t,i),c<a.length;);var l=s.join("").replace(/\0+$/,"");return decodeURIComponent(l.split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function U(e){return e&&(e=>{var t,n,r,o,i=0,a=0,c=[];if(!e)return e;for(e=unescape(encodeURIComponent(e));o=e.charCodeAt(i++),t=e.charCodeAt(i++),n=e.charCodeAt(i++),t=(o=o<<16|t<<8|n)>>18&63,n=o>>12&63,r=o>>6&63,o=63&o,c[a++]=f.charAt(t)+f.charAt(n)+f.charAt(r)+f.charAt(o),i<e.length;);var u=c.join(""),s=e.length%3;return(s?u.slice(0,s-3):u)+"===".slice(s||3)})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function et(){function n(e,t){null!=t&&""!==t&&(r[e]=t)}var t,r={},o=[],i=[],a=[];return{add:n,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},addJson:function(e,t,n){n&&M(n)&&(i.push(e={keyIfEncoded:e,keyIfNotEncoded:t,json:n}),o.push(e))},addContextEntity:function(e){a.push(e)},getPayload:function(){return r},getJson:function(){return o},withJsonProcessor:function(e){t=e},build:function(){return null!=t&&t(this,i,a),r}}}function M(e){if(V(e))for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return 1}function V(e){return typeof e<"u"&&null!==e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var o,i,a="Snowplow: ",qe=((e=o=o||{})[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info",void 0===i&&(i=o.warn),{setLogLevel:function(e){i=o[e]?e:o.warn},warn:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];i>=o.warn&&typeof console<"u"&&(e=a+e,t?console.warn.apply(console,He([e+`
`,t],n,!1)):console.warn.apply(console,He([e],n,!1)))},error:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];i>=o.error&&typeof console<"u"&&(e=a+e+`
`,t?console.error.apply(console,He([e+`
`,t],n,!1)):console.error.apply(console,He([e],n,!1)))},debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];i>=o.debug&&typeof console<"u"&&console.debug.apply(console,He([a+e],t,!1))},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];i>=o.info&&typeof console<"u"&&console.info.apply(console,He([a+e],t,!1))}});function z(){var u=[],s=[];return{getGlobalPrimitives:function(){return u},getConditionalProviders:function(){return s},addGlobalContexts:function(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var i=o[r];W(i)?t.push(i):l(i)&&n.push(i)}u=u.concat(n),s=s.concat(t)},clearGlobalContexts:function(){s=[],u=[]},removeGlobalContexts:function(e){for(var t=0,n=e;t<n.length;t++)(t=>{W(t)?s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)}):l(t)&&(u=u.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)}))})(n[t])},getApplicableContexts:function(e){var t,n,r,o=(e=>{for(var e=e.getJson(),t=0,n=e;t<n.length;t++){var r=n[t];if("ue_px"===r.keyIfEncoded&&"object"==typeof r.json.data){r=r.json.data.schema;if("string"==typeof r)return r}}return""})(e),i=(e=>"string"==typeof(e=e.getPayload().e)?e:"")(e),a=[],c=Z(u,e,i,o),i=(a.push.apply(a,c),t=e,n=i,r=o,c=(c=Q(c=s)).map(function(e){e=((e,t,n,r)=>{if(G(e)){var o=e[0],i=!1;try{var a={event:t.getPayload(),eventType:n,eventSchema:r};i=o(a)}catch{i=!1}if(!0===i)return Z(e[1],t,n,r)}else if(X(e)&&((e,t)=>{var n=0,r=0,o=e.accept,o=(Array.isArray(o)?e.accept.some(function(e){return d(e,t)})&&r++:"string"==typeof o&&d(o,t)&&r++,e.reject);return Array.isArray(o)?e.reject.some(function(e){return d(e,t)})&&n++:"string"==typeof o&&d(o,t)&&n++,0<r&&0===n})(e[0],r))return Z(e[1],t,n,r);return[]})(e,t,n,r);if(e&&0!==e.length)return e}),(e=[]).concat.apply(e,c.filter(function(e){return null!=e&&e.filter(Boolean)})));return a.push.apply(a,i),a}}}function H(e){e=e.split(".");return!!(e&&1<e.length)&&(e=>{if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length})(e)}function J(e){e=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==e&&H(e[1]))return e.slice(1,6)}function q(e){var t,e=J(e);return!!e&&(t=e[0],5===e.length)&&H(t)}function F(e){return t=e,Array.isArray(t)&&t.every(function(e){return"string"==typeof e})?e.every(q):"string"==typeof e&&q(e);var t}function c(e){return!!(M(e)&&"schema"in e&&"data"in e)&&"string"==typeof e.schema&&"object"==typeof e.data}function u(e){return"function"==typeof e&&e.length<=1}function l(e){return u(e)||c(e)}function G(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?u(e[0])&&e[1].every(l):u(e[0])&&l(e[1]))}function X(e){return!(!Array.isArray(e)||2!==e.length||!(e=>{var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!F(t.accept))return;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!F(t.reject))return;n+=1}return 0<n&&n<=2}})(e[0]))&&(Array.isArray(e[1])?e[1].every(l):l(e[1]))}function W(e){return G(e)||X(e)}function d(e,t){if(q(e)){var n=J(e),r=(e=>{if(null!==(e=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e)))return e.slice(1,6)})(t);if(n&&r){if(!((e,t)=>{var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return;for(var o=0;o<r.length;o++)if(!Y(n[o],r[o]))return;return 1}})(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!Y(n[o],r[o]))return!1;return!0}}return!1}function Y(e,t){return e&&t&&"*"===e||e===t}function Q(e){return Array.isArray(e)?e:Array.of(e)}function Z(e,t,n,r){var o,e=Q(e).map(function(e){e=((e,t,n,r)=>c(e)?[e]:u(e)?(e=((e,t,n,r)=>{var o=void 0;try{o=e({event:t.getPayload(),eventType:n,eventSchema:r});return Array.isArray(o)&&o.every(c)||c(o)?o:void 0}catch{o=void 0}return o})(e,t,n,r),c(e)?[e]:Array.isArray(e)?e:void 0):void 0)(e,t,n,r);if(e&&0!==e.length)return e});return(o=[]).concat.apply(o,e.filter(function(e){return null!=e&&e.filter(Boolean)}))}function tt(e){var t=(e=void 0===e?{}:e).base64,n=e.corePlugins,e=e.callback,r=n??[];a=e,o=i=r,c={addPluginContexts:function(e){var t=e?He([],e,!0):[];return o.forEach(function(e){try{e.contexts&&t.push.apply(t,e.contexts())}catch(e){qe.error("Error adding plugin contexts",e)}}),t}},u=z(),s=t??!0,f={};var i,a,o,c,u,s,f,l=ze(ze({},{track:function(t,e,n){t.withJsonProcessor((l=s,function(r,e,t){for(var n=function(e,t,n){e=JSON.stringify(e);l?r.add(t,U(e)):r.add(n,e)},o=function(){var e=r.getPayload();if(l?e.cx:e.co)return JSON.parse(l?B(e.cx):e.co)},i=function(e,t){e=e||o();return e?e.data=e.data.concat(t.data):e=t,e},a=void 0,c=0,u=e;c<u.length;c++){var s=u[c];"cx"===s.keyIfEncoded?a=i(a,s.json):n(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}e.length=0,t.length&&(a=i(a,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:He([],t,!0)}),t.length=0),a&&n(a,"cx","co")})),t.add("eid",Je.v4()),t.addDict(f);var l,n=null==(n=n)?{type:"dtm",value:(new Date).getTime()}:"number"==typeof n?{type:"dtm",value:n}:"ttm"===n.type?{type:"ttm",value:n.value}:{type:"dtm",value:n.value||(new Date).getTime()};t.add(n.type,n.value.toString()),n=t,e=c.addPluginContexts(e),n=u.getApplicableContexts(n),r=[],e&&e.length&&r.push.apply(r,e),n&&n.length&&r.push.apply(r,n);void 0!==(e=(e=>{if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}})(r))&&t.addJson("cx","co",e),i.forEach(function(e){try{e.beforeTrack&&e.beforeTrack(t)}catch(e){qe.error("Plugin beforeTrack",e)}}),"function"==typeof a&&a(t);var r,o=t.build();return i.forEach(function(e){try{e.afterTrack&&e.afterTrack(o)}catch(e){qe.error("Plugin afterTrack",e)}}),o},addPayloadPair:d,getBase64Encoding:function(){return s},setBase64Encoding:function(e){s=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(f[t]=e[t])},resetPayloadPairs:function(e){f=V(e)?e:{}},setTrackerVersion:function(e){d("tv",e)},setTrackerNamespace:function(e){d("tna",e)},setAppId:function(e){d("aid",e)},setPlatform:function(e){d("p",e)},setUserId:function(e){d("uid",e)},setScreenResolution:function(e,t){d("res",e+"x"+t)},setViewport:function(e,t){d("vp",e+"x"+t)},setColorDepth:function(e){d("cd",e)},setTimezone:function(e){d("tz",e)},setLang:function(e){d("lang",e)},setIpAddress:function(e){d("ip",e)},setUseragent:function(e){d("ua",e)},addGlobalContexts:function(e){u.addGlobalContexts(e)},clearGlobalContexts:function(){u.clearGlobalContexts()},removeGlobalContexts:function(e){u.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,e=e.plugin;r.push(e),null!=(t=e.logger)&&t.call(e,qe),null!=(t=e.activateCorePlugin)&&t.call(e,l)}});function d(e,t){f[e]=t}return null!=r&&r.forEach(function(e){var t;null!=(t=e.logger)&&t.call(e,qe),null!=(t=e.activateCorePlugin)&&t.call(e,l)}),l}function K(e){var e=e.event,t=e.schema,n=et(),t={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:t,data:e.data}};return n.add("e","ue"),n.addJson("ue_px","ue_pr",t),n}function $(e){return K({event:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:((e,t)=>{void 0===t&&(t={});var n,r={};for(n in e)(t[n]||null!==e[n]&&typeof e[n]<"u")&&(r[n]=e[n]);return r})({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}})}var s,n,e={exports:{}},r={exports:{}};s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(s.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((s.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|s.indexOf(e.charAt(n))>>>6-2*r);return t}},r.exports=n;var ee,te,ne,re={utf8:{stringToBytes:function(e){return re.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(re.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};function oe(e,t){return e=ee.wordsToBytes((e=>{e.constructor==String?e=te.stringToBytes(e):typeof Buffer<"u"&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=ee.bytesToWords(e),e=8*e.length,n=[],r=1732584193,o=-271733879,i=-1732584194,a=271733878,c=-1009589776;t[e>>5]|=128<<24-e%32,t[15+(64+e>>>9<<4)]=e;for(var u=0;u<t.length;u+=16){for(var s=r,l=o,f=i,d=a,p=c,g=0;g<80;g++){n[g]=g<16?t[u+g]:(v=n[g-3]^n[g-8]^n[g-14]^n[g-16])<<1|v>>>31;var v=(r<<5|r>>>27)+c+(n[g]>>>0)+(g<20?1518500249+(o&i|~o&a):g<40?1859775393+(o^i^a):g<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514),c=a,a=i,i=o<<30|o>>>2,o=r,r=v}r+=s,o+=l,i+=f,a+=d,c+=p}return[r,o,i,a,c]})(e)),t&&t.asBytes?e:t&&t.asString?ne.bytesToString(e):ee.bytesToHex(e)}ee=r.exports,te=re.utf8,ne=re.bin,oe._blocksize=16,oe._digestsize=20,e.exports=oe;let ie=e.exports,nt=(r=ie)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function rt(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch{return!1}}function ot(e){try{var t=window.localStorage;t.removeItem(e),t.removeItem(e+".expires")}catch{}}function it(e){try{return window.sessionStorage.getItem(e)}catch{}}function ae(e){return e&&"string"==typeof e.valueOf()}function at(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ct(e){var t;return ae(e)||(e=e.text||"",(t=document.getElementsByTagName("title"))&&null!=t[0]&&(e=t[0].text)),e}function ut(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function st(e){var t=e.length;return e="*."===(e="."===e.charAt(--t)?e.slice(0,t):e).slice(0,2)?e.slice(1):e}function lt(e){var t=window,n=Ge("referrer",t.location.href)||Ge("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch{}return document.referrer}function Fe(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Ge(e,t){e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return e?decodeURIComponent(e[1].replace(/\+/g," ")):null}function ft(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=n.split("."),c=a.length-2;0<=c;c--){var u=a.slice(c).join(".");if(Xe(o,i,0,"/",u,e,t),Xe(o)===i){dt(o,u,e,t);for(var s=(e=>{for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n})(r),l=0;l<s.length;l++)dt(s[l],u,e,t);return u}}return n}function dt(e,t,n,r){Xe(e,"",-1,"/",t,n,r)}function Xe(e,t,n,r,o,i,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(t??"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function ce(e){var t,n,r;return null==e||"object"!=typeof e||Array.isArray(e)?function(){return!0}:(t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=(e=>{var t={},n=e.allowlist||e.denylist;if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)t[n[r]]=!0}return t})(e),r=function(e){return((e,t)=>{for(var e=ue(e),n=0,r=e;n<r.length;n++){var o=r[n];if(t[o])return!0}return!1})(e,n)===t},(e=e).hasOwnProperty("filter")&&e.filter?e.filter:r)}function ue(e){return e.className.match(/\S+/g)||[]}function se(){var e="modernizr";if(!(()=>{try{return window.localStorage}catch{return 1}})())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch{return!1}}var pt="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",gt="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",vt="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",le="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function mt(R,e,s,t,a,c,l,u,B,f,d,p,i,U,M,V,g,v,m,h){void 0===v&&(v=!0);var y,w=!1,b=[],k=!1,n=!0===(t="string"==typeof t?t.toLowerCase():t)||"beacon"===t||"true"===t,z=!(!(n&&window.navigator&&window.navigator.sendBeacon)||(((e,t)=>(t=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&t.length&&parseInt(t[0])<=e)(13,r=window.navigator.userAgent)||((e,t,n)=>(n=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))&&n.length&&(parseInt(n[0])<=e||parseInt(n[0])===e&&parseInt(n[1])<=t))(10,15,r)&&(e=>e.match("Version/.* Safari/")&&!e.match("Chrom(e|ium)"))(r)))&&n,r="get"===t,x=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),S=!r&&x&&("post"===t||n),T=S?a:"/i",C="snowplowOutQueue_".concat(R,"_").concat(S?"post2":"get");if(n&&(i={}),c=s&&se()&&S&&c||1,s)try{var o=window.localStorage.getItem(C),b=o?JSON.parse(o):[]}catch{}function A(t){var e=Object.keys(t).map(function(e){return[e,t[e]]}).reduce(function(e,t){var n=t[0],t=t[1];return e[n]=t.toString(),e},{});return{evt:e,bytes:O(JSON.stringify(e))}}function O(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:55296<=r&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(b)||(b=[]),e.outQueues.push(b),x&&1<c&&e.bufferFlushers.push(function(e){w||j(e)});var P=function(e){return"object"==typeof e[0]&&"evt"in e[0]};function H(e,t){var n=L(t,!0,!1),r=_([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(E(n.status)?null!=m&&m(r):null!=h&&h({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(D(r))}function I(e){for(var t=0;t<e;t++)b.shift();s&&rt(C,JSON.stringify(b.slice(0,f)))}function J(t,n,r){t.onreadystatechange=function(){var e;4===t.readyState&&(clearTimeout(o),E(t.status)?(I(n),null!=m&&m(r),j()):((e=!(E(e=t.status)||!v||!M.includes(e)&&V.includes(e)))||(qe.error("Status ".concat(t.status,", will not retry.")),I(n)),null!=h&&h({status:t.status,message:t.statusText,events:r,willRetry:e}),w=!1))};var o=setTimeout(function(){t.abort(),v||I(n),null!=h&&h({status:0,message:"timeout",events:r,willRetry:v}),w=!1},d)}function j(e){for(void 0===e&&(e=!1);b.length&&"string"!=typeof b[0]&&"object"!=typeof b[0];)b.shift();if(b.length){if(!ae(y))throw"No collector configured";var t,n;if(w=!0,g&&!k)t=L(g,!1,e),k=!0,t.timeout=d,t.onreadystatechange=function(){4===t.readyState&&j()},t.send();else if(x){var r=void 0,o=void 0,i=void 0,i=P(b)?(o=L(r=y,!0,e),(e=>{for(var t=0,n=0;t<e.length&&(n+=e[t].bytes,!(l<=n));)t+=1;return t})(b)):(o=L(r=N(b[0]),!1,e),1);if(P(b)){e=b.slice(0,i);if(0<e.length){var a=!1,c=e.map(function(e){return e.evt});if(z){var u=new Blob([D(_(c))],{type:"application/json"});try{a=navigator.sendBeacon(r,u)}catch{a=!1}}!0===a?(I(i),null!=m&&m(e),j()):(J(o,i,u=_(c)),o.send(D(u)))}}else J(o,i,[r]),o.send()}else p||P(b)?w=!1:(a=new Image(1,1),n=!0,a.onload=function(){n&&(n=!1,b.shift(),s&&rt(C,JSON.stringify(b.slice(0,f))),j())},a.onerror=function(){n&&(w=n=!1)},a.src=N(b[0]),setTimeout(function(){n&&w&&(n=!1,j())},d))}else w=!1}function E(e){return 200<=e&&e<300}function L(e,t,n){var r,o=new XMLHttpRequest;for(r in t?(o.open("POST",e,!n),o.setRequestHeader("Content-Type","application/json; charset=UTF-8")):o.open("GET",e,!n),o.withCredentials=U,p&&o.setRequestHeader("SP-Anonymous","*"),i)Object.prototype.hasOwnProperty.call(i,r)&&o.setRequestHeader(r,i[r]);return o}function D(e){return JSON.stringify({schema:le,data:e})}function _(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function N(e){return B?y+e.replace("?","?stm="+(new Date).getTime()+"&"):y+e}return{enqueueRequest:function(e,t){function n(e,t){qe.warn("Event ("+e+"B) too big, max is "+t)}if(y=t+T,S){if((o=A(e)).bytes>=l)return n(o.bytes,l),void H(o,y);b.push(o)}else{var r=(e=>{var t,n,r="?",o={co:!0,cx:!0},i=!0;for(t in e)e.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(i?i=!1:r+="&",r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));for(n in o)e.hasOwnProperty(n)&&o.hasOwnProperty(n)&&(r+="&"+n+"="+encodeURIComponent(e[n]));return r})(e);if(0<u){var o,i=O(N(r));if(u<=i)return n(i,u),void(x&&H(o=A(e),t+a))}b.push(r)}i=!1,s&&(i=rt(C,JSON.stringify(b.slice(0,f)))),w||i&&!(b.length>=c)||j()},executeQueue:function(){w||j()},setUseLocalStorage:function(e){s=e},setAnonymousTracking:function(e){p=e},setCollectorUrl:function(e){y=e+T},setBufferSize:function(e){c=e}}}function ht(e,t,n){var r,o;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=ut(t=null!=(r=t,o="u",o=(r=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(r))&&1<(null==r?void 0:r.length)?Ge(o,r[1]):null)?o:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=ut(t=document.links[0].href)),[e,t,n]}var fe=0,We=1,de=2,p=3,pe=4,ge=5,g=6,Ye=7,Qe=8,Ze=9,Ke=10;function yt(e,t,n,r){function o(e,t){return e=parseInt(e),isNaN(e)?t:e}function i(e){return e?o(e,void 0):void 0}var a,c=new Date,c=Math.round(c.getTime()/1e3);e?(a=e.split(".")).unshift("0"):a=["1",t,c,r,c,"",n],a[g]&&"undefined"!==a[g]||(a[g]=Je.v4()),a[Ye]&&"undefined"!==a[Ye]||(a[Ye]=""),a[Qe]&&"undefined"!==a[Qe]||(a[Qe]=""),a[Ze]&&"undefined"!==a[Ze]||(a[Ze]=""),a[Ke]&&"undefined"!==a[Ke]||(a[Ke]=0);return[a[fe],a[We],o(a[de],c),o(a[p],r),o(a[pe],c),i(a[ge]),a[g],a[Ye],a[Qe],i(a[Ze]),o(a[Ke],0)]}function $e(e,t){t=(t=void 0===t?{memorizedVisitCount:1}:t).memorizedVisitCount,St(e)?(e[Ye]=e[g],e[ge]=e[pe],e[p]++):e[p]=t,t=Je.v4();return e[g]=t,e[Ke]=0,e[Qe]="",e[Ze]=void 0,t}function wt(e){e[pe]=Math.round((new Date).getTime()/1e3)}function bt(e,t,n){var r=e[Ze];return{userId:n?"00000000-0000-0000-0000-000000000000":e[We],sessionId:e[g],eventIndex:e[Ke],sessionIndex:e[p],previousSessionId:!n&&e[Ye]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[Qe]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function kt(e){return e[g]}function xt(e){return e[p]}function St(e){return"0"===e[fe]}var v="x";function Tt(){return{viewport:ve((()=>{var e,t;return t="innerWidth"in window?(e=window.innerWidth,window.innerHeight):(t=document.documentElement||document.body,e=t.clientWidth,t.clientHeight),0<=e&&0<=t?e+v+t:null})()),documentSize:ve((e=document.documentElement,t=(t=document.body)?Math.max(t.offsetHeight,t.scrollHeight):0,n=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),e=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,t),isNaN(n)||isNaN(e)?"":n+v+e)),resolution:ve(screen.width+v+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var e,t,n}function ve(e){return e&&e.split(v).map(function(e){return Math.floor(Number(e))}).join(v)}function me(e,t,n,r,o,i){var a,c,R,l,f,d,B,U,M,p,V,z,H,J,q,F,u,s,G,g,v,X,m,h,W,Y,y,Q,Z,w,K,b,k,x,$,ee,te,S,ne,T,C,re,A,O,oe,ie,P,ae,I,ce,ue,se,j=[],n=(e=e,t=t,n=n,r=r,a=o,(c=i=void 0===i?{}:i).eventMethod=null!=(o=c.eventMethod)?o:"post",o=null!=(o=null==(o=null==c?void 0:c.contexts)?void 0:o.browser)&&o,R=null==(i=null==(i=null==c?void 0:c.contexts)?void 0:i.webPage)||i,j.push({beforeTrack:function(e){var t,n,r=be("ses"),o=N(),i=0===o[Ke];G=!!M&&!!Xe(M),$||G?Ie():(St(o)?(u=(r||"none"==C?kt:$e)(o),A=xt(o)):(new Date).getTime()-re>1e3*te&&(u=$e(o,{memorizedVisitCount:++A})),wt(o),t=e,0===(n=o)[Ke]&&(t=t.build(),n[Qe]=t.eid,t=t.dtm||t.ttm,n[Ze]=t?parseInt(t):void 0),o[Ke]+=1,t=(n=Tt()).viewport,n=n.documentSize,e.add("vp",t),e.add("ds",n),e.add("vid",me(A)),e.add("sid",me(u)),e.add("duid",ve(o[We])),e.add("uid",ve(s)),E(),e.add("refr",L(l||h)),e.add("url",L(f||m)),t=bt(o,C,T),!ae||T&&!S||(n={schema:vt,data:n=t},e.addContextEntity(n)),"none"!=C&&(Oe(o),e=Ae(),r&&!i||!e||!I||ce||(I(t),ce=!1)),re=(new Date).getTime())}}),R&&j.push({contexts:function(){return[{schema:pt,data:{id:_e()}}]}}),o&&j.push({contexts:function(){return[{schema:gt,data:ze(ze({},Tt()),{tabId:Ne()})}]}}),j.push.apply(j,null!=(i=c.plugins)?i:[]),g=tt({base64:c.encodeBase64,corePlugins:j,callback:function(e){$||G||O.enqueueRequest(e.build(),W)}}),o=document.characterSet||document.charset,v=ht(window.location.hostname,window.location.href,lt()),X=st(v[0]),m=v[1],h=v[2],i=null!=(i=c.platform)?i:"web",W=Le(r),r=null!=(r=c.postPath)?r:"/com.snowplowanalytics.snowplow/tp2",Y=null!=(Y=c.appId)?Y:"",y=document.title,Q=null==(x=c.resetActivityTrackingOnPageView)||x,Z=null!=(x=c.cookieName)?x:"_sp_",w=null!=(x=c.cookieDomain)?x:void 0,K="/",b=null!=(x=c.cookieSameSite)?x:"None",k=null==(x=c.cookieSecure)||x,x=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,$=typeof c.respectDoNotTrack<"u"&&c.respectDoNotTrack&&("yes"===x||"1"===x),ee=null!=(x=c.cookieLifetime)?x:63072e3,te=null!=(x=c.sessionCookieTimeout)?x:1800,S=de(c),ne=pe(c),T=ge(c),C=fe(c),re=(new Date).getTime(),A=1,O=mt(e,a,"localStorage"==C||"cookieAndLocalStorage"==C,c.eventMethod,r,null!=(x=c.bufferSize)?x:1,null!=(r=c.maxPostBytes)?r:4e4,null!=(x=c.maxGetBytes)?x:0,null==(r=c.useStm)||r,null!=(x=c.maxLocalStorageQueueSize)?x:1e3,null!=(r=c.connectionTimeout)?r:5e3,ne,null!=(x=c.customHeaders)?x:{},null==(r=c.withCredentials)||r,null!=(x=c.retryStatusCodes)?x:[],(null!=(r=c.dontRetryStatusCodes)?r:[]).concat([400,401,403,410,422]),c.idService,c.retryFailedRequests,c.onRequestSuccess,c.onRequestFailure),P={enabled:ie=oe=!1,installed:!1,configurations:{}},ae=null!=(r=null==(x=c.contexts)?void 0:x.session)&&r,I=c.onSessionUpdateCallback,ce=!1,c.hasOwnProperty("discoverRootDomain")&&c.discoverRootDomain&&(w=ft(b,k)),x=Tt(),r=x.browserLanguage,ue=x.resolution,se=x.colorDepth,x=x.cookiesEnabled,g.setTrackerVersion(n),g.setTrackerNamespace(t),g.setAppId(Y),g.setPlatform(i),g.addPayloadPair("cookie",x?"1":"0"),g.addPayloadPair("cs",o),g.addPayloadPair("lang",r),g.addPayloadPair("res",ue),g.addPayloadPair("cd",se),ke(),Ee(),c.crossDomainLinker&&ye(c.crossDomainLinker),ze(ze({},{getDomainSessionIndex:function(){return A},getPageViewId:_e,getTabId:Ne,newSession:function(){var e,t=N();St(t)?(u=("none"!=C?$e:kt)(t),A=xt(t)):u=$e(t,{memorizedVisitCount:++A}),wt(t),"none"!=C&&(e=bt(t,C,T),Oe(t),Ae())&&I&&(ce=!0,I(e)),re=(new Date).getTime()},getCookieName:D,getUserId:function(){return s},getDomainUserId:function(){return N()[1]},getDomainUserInfo:N,setReferrerUrl:function(e){l=e},setCustomUrl:function(e){var t,n;E(),t=m,f=we(e=e)?e:"/"===e.slice(0,1)?we(t)+"://"+ut(t)+e:(t=(n=(t=0<=(n=(t=L(t)).indexOf("?"))?t.slice(0,n):t).lastIndexOf("/"))!==t.length-1?t.slice(0,n+1):t)+e},setDocumentTitle:function(e){y=document.title,d=e},discardHashTag:function(e){B=e},discardBrace:function(e){U=e},setCookiePath:function(e){K=e,ke()},setVisitorCookieTimeout:function(e){ee=e},crossDomainLinker:function(e){ye(e)},enableActivityTracking:function(e){P.configurations.pagePing||(P.enabled=!0,P.configurations.pagePing=Ue(ze(ze({},e),{callback:Me})))},enableActivityTrackingCallback:function(e){P.configurations.callback||(P.enabled=!0,P.configurations.callback=Ue(e))},disableActivityTracking:function(){Ve("pagePing")},disableActivityTrackingCallback:function(){Ve("callback")},updatePageActivity:function(){_()},setOptOutCookie:function(e){M=e},setUserId:function(e){s=e},setUserIdFromLocation:function(e){E(),s=Ge(e,m)},setUserIdFromReferrer:function(e){E(),s=Ge(e,h)},setUserIdFromCookie:function(e){s=Xe(e)},setCollectorUrl:function(e){W=Le(e),O.setCollectorUrl(W)},setBufferSize:function(e){O.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),O.executeQueue(),e.newBufferSize&&O.setBufferSize(e.newBufferSize)},trackPageView:function(e){Be(e=void 0===e?{}:e)},preservePageViewId:function(){oe=!0},disableAnonymousTracking:function(e){c.anonymousTracking=!1,je(e),Ee(),O.executeQueue()},enableAnonymousTracking:function(e){var t;c.anonymousTracking=null==(t=e&&(null==e?void 0:e.options))||t,je(e),S||De()},clearUserData:Ie}),{id:e,namespace:t,core:g,sharedState:a})),le=ze(ze({},n),{addPlugin:function(e){var t;le.core.addPlugin(e),null!=(t=(e=e.plugin).activateBrowserPlugin)&&t.call(e,le)}});function fe(e){return null!=(e=e.stateStorageStrategy)?e:"cookieAndLocalStorage"}function de(e){return"boolean"!=typeof e.anonymousTracking&&null!==(e=!0===(null==(e=e.anonymousTracking)?void 0:e.withSessionTracking))&&e}function pe(e){return"boolean"!=typeof e.anonymousTracking&&null!==(e=!0===(null==(e=e.anonymousTracking)?void 0:e.withServerAnonymisation))&&e}function ge(e){return!!e.anonymousTracking}function ve(e){return T?null:e}function me(e){return S?e:ve(e)}function E(){(v=ht(window.location.hostname,window.location.href,lt()))[1]!==m&&(h=lt(m)),X=st(v[0]),m=v[1]}function he(e){var t=(new Date).getTime(),e=e.currentTarget;null!=e&&e.href&&(e.href=((e,t,n)=>{var r=t+"="+n,o=(e=(n=e.split("#"))[0].split("?")).shift(),i=e.join("?");if(i){for(var a=!0,c=i.split("&"),u=0;u<c.length;u++)if(c[u].substr(0,t.length+1)===t+"="){a=!1,c[u]=r,i=c.join("&");break}a&&(i=r+"&"+i)}else i=r;return n[0]=o+"?"+i,n.join("#")})(e.href,"_sp",F+"."+t))}function ye(e){for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(Fe(n,"click",he,!0),Fe(n,"mousedown",he,!0),n.spDecorationEnabled=!0)}}function L(e){var t;return B&&(t=new RegExp("#.*"),e=e.replace(t,"")),U&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function we(e){e=new RegExp("^([a-z]+):").exec(e);return e?e[1]:null}function D(e){return Z+e+"."+q}function be(e){e=D(e);if("localStorage"!=C)return"cookie"==C||"cookieAndLocalStorage"==C?Xe(e):void 0;try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())return t.getItem(e);t.removeItem(e),t.removeItem(e+".expires")}catch{}}function ke(){E(),q=nt((w||X)+(K||"/")).slice(0,4)}function _(){var e=new Date;p=e.getTime()}function xe(){var e,t;e=Se(),(t=e[0])<V?V=t:z<t&&(z=t),(t=e[1])<H?H=t:J<t&&(J=t),_()}function Se(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function Te(){var e=Se(),t=e[0],t=(z=V=t,e[1]);J=H=t}function Ce(e){return Math.round(e)}function Ae(){return Pe(D("ses"),"*",te)}function Oe(e){var t,n=D("id");t=T,e=He([],e=e,!0),t&&(e[We]="",e[Ye]=""),e.shift(),Pe(n,e.join("."),ee)}function Pe(e,t,n){return!(T&&!S)&&("localStorage"==C?rt(e,t,n):("cookie"==C||"cookieAndLocalStorage"==C)&&(Xe(e,t,n,K,w,b,k),-1!==document.cookie.indexOf("".concat(e,"="))))}function Ie(e){var t=D("id"),n=D("ses");ot(t),ot(n),dt(t,w,b,k),dt(n,w,b,k),null!=e&&e.preserveSession||(u=Je.v4(),A=1),null!=e&&e.preserveUser||(F=T?"":Je.v4(),s=null)}function je(e){e&&e.stateStorageStrategy&&(c.stateStorageStrategy=e.stateStorageStrategy,C=fe(c)),T=ge(c),S=de(c),ne=pe(c),O.setUseLocalStorage("localStorage"==C||"cookieAndLocalStorage"==C),O.setAnonymousTracking(ne)}function Ee(){var e,t,n,r,o;T&&!S||(e="none"!=C&&!!be("ses"),t=N(),r=T,(n=t)[We]?o=n[We]:(o=r?"":Je.v4(),n[We]=o),F=o,u=(e?kt:$e)(t),A=xt(t),"none"!=C&&(Ae(),wt(t),Oe(t)))}function N(){return"none"==C?["1","",0,0,0,void 0,"","","",void 0,0]:yt(be("id")||void 0,F,u,A)}function Le(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function De(){oe&&null!=a.pageViewId||(a.pageViewId=Je.v4())}function _e(){return null==a.pageViewId&&(a.pageViewId=Je.v4()),a.pageViewId}function Ne(){if("none"===C||T||!R)return null;var e="_sp_tab_id",t=it(e);if(!t){var n=e,r=Je.v4();try{window.sessionStorage.setItem(n,r)}catch{}t=it(e)}return t||null}function Re(e,t){return(e||[]).concat(t?t():[])}function Be(e){var r,t,n=e.title,o=e.context,i=e.timestamp,a=e.contextCallback,e=(E(),ie&&De(),ie=!0,y=document.title,ct((d=n)||y)),e=(g.track((n={pageUrl:L(f||m),pageTitle:e,referrer:L(l||h)},e=n.pageUrl,c=n.pageTitle,n=n.referrer,(t=et()).add("e","pv"),t.add("url",e),t.add("page",c),t.add("refr",n),t),Re(o,a),i),new Date),c=!1;if(P.enabled&&!P.installed&&(c=P.installed=!0,(r={update:function(){var e,t,n;typeof window<"u"&&"function"==typeof window.addEventListener&&(e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){},window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e)}}).update(),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",Object.prototype.hasOwnProperty.call(r,"hasSupport")?Fe(document,n,_,{passive:!0}):Fe(document,n,_),Te(),["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach((t=function(e,t){return void 0===t&&(t=_),function(e){return Fe(document,e,t)}})(document)),["resize","focus","blur"].forEach(t(window)),t(window,xe)("scroll")),P.enabled&&(Q||c)){p=e.getTime();var u=void 0;for(u in P.configurations){var s=P.configurations[u];s&&(window.clearInterval(s.activityInterval),((t,n,r)=>{function o(e,t){E(),e({context:t,pageViewId:_e(),minXOffset:V,minYOffset:H,maxXOffset:z,maxYOffset:J}),Te()}function i(){var e=new Date;p+t.configHeartBeatTimer>e.getTime()&&o(t.callback,Re(n,r))}0===t.configMinimumVisitLength?t.activityInterval=window.setInterval(i,t.configHeartBeatTimer):t.activityInterval=window.setTimeout(function(){var e=new Date;p+t.configMinimumVisitLength>e.getTime()&&o(t.callback,Re(n,r)),t.activityInterval=window.setInterval(i,t.configHeartBeatTimer)},t.configMinimumVisitLength)})(s,o,a))}}}function Ue(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,e=e.callback;if(at(t)&&at(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};qe.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Me(e){var t,n,r,o=e.context,i=e.minXOffset,a=e.minYOffset,c=e.maxXOffset,e=e.maxYOffset,u=document.title;u!==y&&(y=u,d=void 0),g.track((u={pageUrl:L(f||m),pageTitle:ct(d||y),referrer:L(l||h),minXOffset:Ce(i),maxXOffset:Ce(c),minYOffset:Ce(a),maxYOffset:Ce(e)},i=u.pageUrl,c=u.pageTitle,a=u.referrer,e=u.minXOffset,t=u.maxXOffset,n=u.minYOffset,u=u.maxYOffset,(r=et()).add("e","pp"),r.add("url",i),r.add("page",c),r.add("refr",a),e&&!isNaN(Number(e))&&r.add("pp_mix",e.toString()),t&&!isNaN(Number(t))&&r.add("pp_max",t.toString()),n&&!isNaN(Number(n))&&r.add("pp_miy",n.toString()),u&&!isNaN(Number(u))&&r.add("pp_may",u.toString()),r),o)}function Ve(e){var t=P.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),P.configurations[e]=void 0}return j.forEach(function(e){var t;null!=(t=e.activateBrowserPlugin)&&t.call(e,le)}),le}var m={};function he(e,t){try{((e,t)=>{for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.hasOwnProperty(i)?n.push(t[i]):qe.warn(i+" not configured")}return n})(e??Object.keys(m),m).forEach(t)}catch(e){qe.error("Function failed",e)}}function ye(t,e){he(e,function(e){e.core.track(K({event:t.event}),t.context,t.timestamp)})}var h,y,r=typeof window<"u"?(h=new function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},y=document,e=window,y.visibilityState&&Fe(y,"visibilitychange",function(){"hidden"==y.visibilityState&&h.bufferFlushers.forEach(function(e){e(!1)})},!1),Fe(e,"beforeunload",function(){h.bufferFlushers.forEach(function(e){e(!1)})},!1),"loading"===document.readyState?(y.addEventListener?y.addEventListener("DOMContentLoaded",function e(){y.removeEventListener("DOMContentLoaded",e,!1),we()}):y.attachEvent&&y.attachEvent("onreadystatechange",function e(){"complete"===y.readyState&&(y.detachEvent("onreadystatechange",e),we())}),Fe(e,"load",we,!1)):we(),h):void 0;function we(){var e;if(!h.hasLoaded)for(h.hasLoaded=!0,e=0;e<h.registeredOnLoadHandlers.length;e++)h.registeredOnLoadHandlers[e]();return!0}var w={},b={};function be(e,t,n){for(var r,o,i,a;null!==(r=t.parentElement)&&null!=r&&"A"!==(o=t.tagName.toUpperCase())&&"AREA"!==o;)t=r;var c,u,s=t;null!=s.href&&(c=(u=s.hostname||ut(s.href)).toLowerCase(),u=s.href.replace(u,c),new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript):","i").test(u)||(c=s.id,i=ue(s),a=s.target,s=b[e.id].linkTrackingContent?s.innerHTML:void 0,u=unescape(u),e.core.track($({targetUrl:u,elementId:c,elementClasses:i,elementTarget:a,elementContent:s}),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null!=(e=null==e?void 0:e.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,t)}catch{}}).filter(Boolean))?e:[]}(n,t))))}function ke(r,o){return function(e){var t=(e=e||window.event).which||e.button,n=e.target||e.srcElement;"click"===e.type?n&&be(w[r],n,o):"mousedown"===e.type?1!==t&&2!==t||!n?b[r].lastButton=b[r].lastTarget=null:(b[r].lastButton=t,b[r].lastTarget=n):"mouseup"===e.type&&(t===b[r].lastButton&&n===b[r].lastTarget&&be(w[r],n,o),b[r].lastButton=b[r].lastTarget=null)}}function xe(e,t){var e=void 0===e?{}:e,n=e.options;b[t]={linkTrackingContent:e.trackContent,linkTrackingContext:e.context,linkTrackingPseudoClicks:e.pseudoClicks,linkTrackingFilter:ce(n)}}function Se(e){for(var t,n,r=document.links,o=0;o<r.length;o++)null!=(t=(n=b[e]).linkTrackingFilter)&&t.call(n,r[o])&&!r[o][e]&&(t=e,n=r[o],b[t].linkTrackingPseudoClicks?(Fe(n,"mouseup",ke(t,b[t].linkTrackingContext),!1),Fe(n,"mousedown",ke(t,b[t].linkTrackingContext),!1)):Fe(n,"click",ke(t,b[t].linkTrackingContext),!1),r[o][e]=!0)}let k=window.jobmatix.p||{},Te=window.jobmatix.q||[],Ce=["production","local","development","demo","uat"],Ae=["applicant","apply_start","job_alert","resume","register"],Oe={type:"conversion_type"},Pe={enableActivityTracking:function(t,e){he(e,function(e){e.enableActivityTracking(t)})},setReferrerUrl:function(t,e){he(e,function(e){e.setReferrerUrl(t)})},trackPageView:function(t,e){he(e,function(e){e.trackPageView(t)})},trackSelfDescribingEvent:ye,enableLinkClickTracking:function(t,e){void 0===t&&(t={}),(e=void 0===e?Object.keys(w):e).forEach(function(e){w[e]&&(w[e].sharedState.hasLoaded?(xe(t,e),Se(e)):w[e].sharedState.registeredOnLoadHandlers.push(function(){xe(t,e),Se(e)}))})},conversion:function(r){try{if(null==r||!r.type)throw new Error("Conversion type not found");if(!Ae.includes(r.type))throw new Error("Conversion type not accepted");let n={};Object.keys(r).forEach(e=>{var t=Oe[e]||e;r[e]&&(n[t]=String(r[e]))}),ye({event:{schema:"iglu:com.jobmatix/jobmatix_platform_conversion/jsonschema/1-0-0",data:n}})}catch(e){console.error(e)}}};if(null!=k&&k.environment||(k.environment="production"),null==k||!k.pixel_id)throw new Error("Pixel ID not found");if(!Ce.includes(null==k?void 0:k.environment))throw new Error("Environment not accepted");var Ie,x,je,Ee;function Le(...t){Te.some(e=>e[0]===t[0])||jobmatix(...t)}e="jm",Ie="https://pixel.jobmatix.app",void 0===(x={appId:"jobmatix-platform-pixel",plugins:[{activateBrowserPlugin:function(e){w[e.id]=e}}],eventMethod:"post",platform:"web",cookieName:"_jm_",cookieSameSite:"Lax",contexts:{webPage:!0,performanceTiming:!0}})&&(x={}),r&&(je=e=e,Ee="js-".concat("3.19.0"),Ie=Ie,r=r,x=x,m.hasOwnProperty(e)||(m[e]=me(e,je,Ee,Ie,r,x),m[e])),window.jobmatix=(e,...t)=>{try{(0,Pe[e])(...t)}catch{console.error(`Function ${e} not found`)}},Te.forEach(e=>{jobmatix(...e)}),Le("setReferrerUrl",document.referrer),Le("trackPageView",{context:[{schema:"iglu:com.jobmatix/jobmatix_platform_pixel/jsonschema/1-0-0",data:k}]})});