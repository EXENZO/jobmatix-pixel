!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var Ve=function(){return(Ve=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function p(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||((r=r||Array.prototype.slice.call(n,0,o))[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}var A,O,e={exports:{}},P=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);P?(A=new Uint8Array(16),e.exports=function(){return P(A),A}):(O=new Array(16),e.exports=function(){for(var e,n=0;n<16;n++)3&n||(e=4294967296*Math.random()),O[n]=e>>>((3&n)<<3)&255;return O});for(var e=e.exports,I=[],n=0;n<256;++n)I[n]=(n+256).toString(16).substr(1);function j(e,n){var n=n||0,t=I;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[+n]]].join("")}var E,L,D=e,_=j,N=0,B=0;var R=e,U=j;function M(e,n,t){var r=n&&t||0,o=("string"==typeof e&&(n="binary"===e?new Array(16):null,e=null),(e=e||{}).random||(e.rng||R)());if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var i=0;i<16;++i)n[r+i]=o[i];return n||U(o)}var e=M,ze=(e.v1=function(e,n,t){var r=n&&t||0,o=n||[],i=(e=e||{}).node||E,t=void 0!==e.clockseq?e.clockseq:L,a=(null!=i&&null!=t||(a=D(),null==i&&(i=E=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==t&&(t=L=16383&(a[6]<<8|a[7]))),void 0!==e.msecs?e.msecs:(new Date).getTime()),c=void 0!==e.nsecs?e.nsecs:B+1,u=a-N+(c-B)/1e4;if(u<0&&void 0===e.clockseq&&(t=t+1&16383),1e4<=(c=(u<0||N<a)&&void 0===e.nsecs?0:c))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");N=a,L=t,u=(1e4*(268435455&(a+=122192928e5))+(B=c))%4294967296,o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u,e=a/4294967296*1e4&268435455,o[r++]=e>>>8&255,o[r++]=255&e,o[r++]=e>>>24&15|16,o[r++]=e>>>16&255,o[r++]=t>>>8|128,o[r++]=255&t;for(var s=0;s<6;++s)o[r+s]=i[s];return n||_(o)},e.v4=M,e);function V(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}var n,t,r,o,i,a=e.replace(/-/g,"+").replace(/_/g,"/"),c=0,u=0,s=[];if(!a)return a;for(a+="";i=f.indexOf(a.charAt(c++)),t=f.indexOf(a.charAt(c++)),r=f.indexOf(a.charAt(c++)),o=f.indexOf(a.charAt(c++)),t=(i=i<<18|t<<12|r<<6|o)>>16&255,n=i>>8&255,i=255&i,s[u++]=64===r?String.fromCharCode(t):64===o?String.fromCharCode(t,n):String.fromCharCode(t,n,i),c<a.length;);var l=s.join("").replace(/\0+$/,"");return decodeURIComponent(l.split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function z(e){return e&&function(e){var n,t,r,o,i=0,a=0,c=[];if(!e)return e;e=unescape(encodeURIComponent(e));for(;o=e.charCodeAt(i++),n=e.charCodeAt(i++),t=e.charCodeAt(i++),n=(o=o<<16|n<<8|t)>>18&63,t=o>>12&63,r=o>>6&63,o=63&o,c[a++]=f.charAt(n)+f.charAt(t)+f.charAt(r)+f.charAt(o),i<e.length;);var u=c.join(""),s=e.length%3;return(s?u.slice(0,s-3):u)+"===".slice(s||3)}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qe(){function t(e,n){null!=n&&""!==n&&(r[e]=n)}var n,r={},o=[],i=[],a=[];return{add:t,addDict:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},addJson:function(e,n,t){t&&H(t)&&(i.push(e={keyIfEncoded:e,keyIfNotEncoded:n,json:t}),o.push(e))},addContextEntity:function(e){a.push(e)},getPayload:function(){return r},getJson:function(){return o},withJsonProcessor:function(e){n=e},build:function(){return null!=n&&n(this,i,a),r}}}function H(e){if(J(e))for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return 1}function J(e){return typeof e<"u"&&null!==e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var o,i,a="Snowplow: ",He=((e=o=o||{})[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info",void 0===i&&(i=o.warn),{setLogLevel:function(e){i=o[e]?e:o.warn},warn:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];i>=o.warn&&typeof console<"u"&&(e=a+e,n?console.warn.apply(console,p([e+`
`,n],t,!1)):console.warn.apply(console,p([e],t,!1)))},error:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];i>=o.error&&typeof console<"u"&&(e=a+e+`
`,n?console.error.apply(console,p([e+`
`,n],t,!1)):console.error.apply(console,p([e],t,!1)))},debug:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];i>=o.debug&&typeof console<"u"&&console.debug.apply(console,p([a+e],n,!1))},info:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];i>=o.info&&typeof console<"u"&&console.info.apply(console,p([a+e],n,!1))}});function q(){var u=[],s=[];return{getGlobalPrimitives:function(){return u},getConditionalProviders:function(){return s},addGlobalContexts:function(e){for(var n=[],t=[],r=0,o=e;r<o.length;r++){var i=o[r];Z(i)?n.push(i):l(i)&&t.push(i)}u=u.concat(t),s=s.concat(n)},clearGlobalContexts:function(){s=[],u=[]},removeGlobalContexts:function(e){for(var n=0,t=e;n<t.length;n++)!function(n){Z(n)?s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(n)}):l(n)&&(u=u.filter(function(e){return JSON.stringify(e)!==JSON.stringify(n)}))}(t[n])},getApplicableContexts:function(e){var n,t,r,o=function(e){for(var e=e.getJson(),n=0,t=e;n<t.length;n++){var r=t[n];if("ue_px"===r.keyIfEncoded&&"object"==typeof r.json.data){r=r.json.data.schema;if("string"==typeof r)return r}}return""}(e),i=function(e){e=e.getPayload().e;return"string"==typeof e?e:""}(e),a=[],c=ee(u,e,i,o),i=(a.push.apply(a,c),n=e,t=i,r=o,c=(c=$(c=s)).map(function(e){e=function(e,n,t,r){if(Y(e)){var o=e[0],i=!1;try{var a={event:n.getPayload(),eventType:t,eventSchema:r};i=o(a)}catch{i=!1}if(!0===i)return ee(e[1],n,t,r)}else if(Q(e)&&function(e,n){var t=0,r=0,o=e.accept,o=(Array.isArray(o)?e.accept.some(function(e){return d(e,n)})&&r++:"string"==typeof o&&d(o,n)&&r++,e.reject);return Array.isArray(o)?e.reject.some(function(e){return d(e,n)})&&t++:"string"==typeof o&&d(o,n)&&t++,0<r&&0===t}(e[0],r))return ee(e[1],n,t,r);return[]}(e,n,t,r);if(e&&0!==e.length)return e}),(e=[]).concat.apply(e,c.filter(function(e){return null!=e&&e.filter(Boolean)})));return a.push.apply(a,i),a}}}function F(e){e=e.split(".");return!!(e&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){for(var n=!1,t=0,r=e.slice(2);t<r.length;t++)if("*"===r[t])n=!0;else if(n)return!1;return!0}return 2==e.length}(e)}function G(e){e=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==e&&F(e[1]))return e.slice(1,6)}function X(e){var n,e=G(e);return!!e&&(n=e[0],5===e.length)&&F(n)}function W(e){return n=e,Array.isArray(n)&&n.every(function(e){return"string"==typeof e})?e.every(X):"string"==typeof e&&X(e);var n}function c(e){return!!(H(e)&&"schema"in e&&"data"in e)&&"string"==typeof e.schema&&"object"==typeof e.data}function u(e){return"function"==typeof e&&e.length<=1}function l(e){return u(e)||c(e)}function Y(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?u(e[0])&&e[1].every(l):u(e[0])&&l(e[1]))}function Q(e){return!(!Array.isArray(e)||2!==e.length||!function(e){var n=e,t=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(n,"accept")){if(!W(n.accept))return;t+=1}if(Object.prototype.hasOwnProperty.call(n,"reject")){if(!W(n.reject))return;t+=1}return 0<t&&t<=2}}(e[0]))&&(Array.isArray(e[1])?e[1].every(l):l(e[1]))}function Z(e){return Y(e)||Q(e)}function d(e,n){if(X(e)){var t=G(e),r=function(e){if(null!==(e=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e)))return e.slice(1,6)}(n);if(t&&r){if(!function(e,n){var t=n.split("."),r=e.split(".");if(t&&r){if(t.length!==r.length)return;for(var o=0;o<r.length;o++)if(!K(t[o],r[o]))return;return 1}return}(t[0],r[0]))return!1;for(var o=1;o<5;o++)if(!K(t[o],r[o]))return!1;return!0}}return!1}function K(e,n){return e&&n&&"*"===e||e===n}function $(e){return Array.isArray(e)?e:Array.of(e)}function ee(e,n,t,r){var o,e=$(e).map(function(e){e=function(e,n,t,r){if(c(e))return[e];if(u(e))return e=function(e,n,t,r){var o=void 0;try{o=e({event:n.getPayload(),eventType:t,eventSchema:r});return Array.isArray(o)&&o.every(c)||c(o)?o:void 0}catch{o=void 0}return o}(e,n,t,r),c(e)?[e]:Array.isArray(e)?e:void 0}(e,n,t,r);if(e&&0!==e.length)return e});return(o=[]).concat.apply(o,e.filter(function(e){return null!=e&&e.filter(Boolean)}))}function Ze(e){var n=(e=void 0===e?{}:e).base64,t=e.corePlugins,e=e.callback,r=t??[];a=e,o=i=r,c={addPluginContexts:function(e){var n=e?p([],e,!0):[];return o.forEach(function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){He.error("Error adding plugin contexts",e)}}),n}},u=q(),s=n??!0,f={};var i,a,o,c,u,s,f,l=Ve(Ve({},{track:function(n,e,t){n.withJsonProcessor((l=s,function(r,e,n){for(var t=function(e,n,t){e=JSON.stringify(e);l?r.add(n,z(e)):r.add(t,e)},o=function(){var e=r.getPayload();if(l?e.cx:e.co)return JSON.parse(l?V(e.cx):e.co)},i=function(e,n){e=e||o();return e?e.data=e.data.concat(n.data):e=n,e},a=void 0,c=0,u=e;c<u.length;c++){var s=u[c];"cx"===s.keyIfEncoded?a=i(a,s.json):t(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}e.length=0,n.length&&(a=i(a,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:p([],n,!0)}),n.length=0),a&&t(a,"cx","co")})),n.add("eid",ze.v4()),n.addDict(f);var l,t=null==(t=t)?{type:"dtm",value:(new Date).getTime()}:"number"==typeof t?{type:"dtm",value:t}:"ttm"===t.type?{type:"ttm",value:t.value}:{type:"dtm",value:t.value||(new Date).getTime()};n.add(t.type,t.value.toString()),t=n,e=c.addPluginContexts(e),t=u.getApplicableContexts(t),r=[],e&&e.length&&r.push.apply(r,e),t&&t.length&&r.push.apply(r,t);void 0!==(e=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(r))&&n.addJson("cx","co",e),i.forEach(function(e){try{e.beforeTrack&&e.beforeTrack(n)}catch(e){He.error("Plugin beforeTrack",e)}}),"function"==typeof a&&a(n);var r,o=n.build();return i.forEach(function(e){try{e.afterTrack&&e.afterTrack(o)}catch(e){He.error("Plugin afterTrack",e)}}),o},addPayloadPair:d,getBase64Encoding:function(){return s},setBase64Encoding:function(e){s=e},addPayloadDict:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(f[n]=e[n])},resetPayloadPairs:function(e){f=J(e)?e:{}},setTrackerVersion:function(e){d("tv",e)},setTrackerNamespace:function(e){d("tna",e)},setAppId:function(e){d("aid",e)},setPlatform:function(e){d("p",e)},setUserId:function(e){d("uid",e)},setScreenResolution:function(e,n){d("res",e+"x"+n)},setViewport:function(e,n){d("vp",e+"x"+n)},setColorDepth:function(e){d("cd",e)},setTimezone:function(e){d("tz",e)},setLang:function(e){d("lang",e)},setIpAddress:function(e){d("ip",e)},setUseragent:function(e){d("ua",e)},addGlobalContexts:function(e){u.addGlobalContexts(e)},clearGlobalContexts:function(){u.clearGlobalContexts()},removeGlobalContexts:function(e){u.removeGlobalContexts(e)}}),{addPlugin:function(e){var n,e=e.plugin;r.push(e),null!=(n=e.logger)&&n.call(e,He),null!=(n=e.activateCorePlugin)&&n.call(e,l)}});function d(e,n){f[e]=n}return null!=r&&r.forEach(function(e){var n;null!=(n=e.logger)&&n.call(e,He),null!=(n=e.activateCorePlugin)&&n.call(e,l)}),l}function ne(e){var e=e.event,n=e.schema,e=e.data,t=Qe(),n={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:e}};return t.add("e","ue"),t.addJson("ue_px","ue_pr",n),t}function te(e){return ne({event:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:function(e,n){void 0===n&&(n={});var t,r={};for(t in e)(n[t]||null!==e[t]&&typeof e[t]<"u")&&(r[t]=e[t]);return r}({targetUrl:e.targetUrl,elementId:e.elementId,elementClasses:e.elementClasses,elementTarget:e.elementTarget,elementContent:e.elementContent})}})}var s,t,e={exports:{}},r={exports:{}};s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,n){return e<<n|e>>>32-n},rotr:function(e,n){return e<<32-n|e>>>n},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=t.endian(e[n]);return e},randomBytes:function(e){for(var n=[];0<e;e--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(e){for(var n=[],t=0,r=0;t<e.length;t++,r+=8)n[r>>>5]|=e[t]<<24-r%32;return n},wordsToBytes:function(e){for(var n=[],t=0;t<32*e.length;t+=8)n.push(e[t>>>5]>>>24-t%32&255);return n},bytesToHex:function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},hexToBytes:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return n},bytesToBase64:function(e){for(var n=[],t=0;t<e.length;t+=3)for(var r=e[t]<<16|e[t+1]<<8|e[t+2],o=0;o<4;o++)8*t+6*o<=8*e.length?n.push(s.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],t=0,r=0;t<e.length;r=++t%4)0!=r&&n.push((s.indexOf(e.charAt(t-1))&Math.pow(2,-2*r+8)-1)<<2*r|s.indexOf(e.charAt(t))>>>6-2*r);return n}},r.exports=t;var v,re,oe,g={utf8:{stringToBytes:function(e){return g.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(g.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var n=[],t=0;t<e.length;t++)n.push(255&e.charCodeAt(t));return n},bytesToString:function(e){for(var n=[],t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return n.join("")}}};function ie(e,n){return e=v.wordsToBytes(function(e){e.constructor==String?e=re.stringToBytes(e):typeof Buffer<"u"&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=v.bytesToWords(e),e=8*e.length,t=[],r=1732584193,o=-271733879,i=-1732584194,a=271733878,c=-1009589776;n[e>>5]|=128<<24-e%32,n[15+(64+e>>>9<<4)]=e;for(var u=0;u<n.length;u+=16){for(var s=r,l=o,f=i,d=a,p=c,g=0;g<80;g++){t[g]=g<16?n[u+g]:(m=t[g-3]^t[g-8]^t[g-14]^t[g-16])<<1|m>>>31;var m=(r<<5|r>>>27)+c+(t[g]>>>0)+(g<20?1518500249+(o&i|~o&a):g<40?1859775393+(o^i^a):g<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514),c=a,a=i,i=o<<30|o>>>2,o=r,r=m}r+=s,o+=l,i+=f,a+=d,c+=p}return[r,o,i,a,c]}(e)),n&&n.asBytes?e:n&&n.asString?oe.bytesToString(e):v.bytesToHex(e)}v=r.exports,re=g.utf8,oe=g.bin,ie._blocksize=16,ie._digestsize=20,e.exports=ie;const Ke=(r=e.exports)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function Je(e,n,t){void 0===t&&(t=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*t;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,n),!0}catch{return!1}}function $e(e){try{var n=window.localStorage;n.removeItem(e),n.removeItem(e+".expires")}catch{}}function en(e){try{return window.sessionStorage.getItem(e)}catch{}}function ae(e){return e&&"string"==typeof e.valueOf()}function nn(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function tn(e){var n;return ae(e)||(e=e.text||"",(n=document.getElementsByTagName("title"))&&null!=n[0]&&(e=n[0].text)),e}function qe(e){var n=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return n?n[1]:e}function rn(e){var n=e.length;return e="*."===(e="."===e.charAt(--n)?e.slice(0,n):e).slice(0,2)?e.slice(1):e}function on(e){var n=window,t=Ge("referrer",n.location.href)||Ge("referer",n.location.href);if(t)return t;if(e)return e;try{if(n.top)return n.top.document.referrer;if(n.parent)return n.parent.document.referrer}catch{}return document.referrer}function Fe(e,n,t,r){return e.addEventListener?(e.addEventListener(n,t,r),!0):e.attachEvent?e.attachEvent("on"+n,t):void(e["on"+n]=t)}function Ge(e,n){e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(n);return e?decodeURIComponent(e[1].replace(/\+/g," ")):null}function an(e,n){for(var t=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=t.split("."),c=a.length-2;0<=c;c--){var u=a.slice(c).join(".");if(We(o,i,0,"/",u,e,n),We(o)===i){Xe(o,u,e,n);for(var s=function(e){for(var n=document.cookie.split("; "),t=[],r=0;r<n.length;r++)n[r].substring(0,e.length)===e&&t.push(n[r]);return t}(r),l=0;l<s.length;l++)Xe(s[l],u,e,n);return u}}return t}function Xe(e,n,t,r){We(e,"",-1,"/",n,t,r)}function We(e,n,t,r,o,i,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(n??"")+(t?"; Expires="+new Date(+new Date+1e3*t).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function ce(e){var n,t,r;return null==e||"object"!=typeof e||Array.isArray(e)?function(){return!0}:(n=Object.prototype.hasOwnProperty.call(e,"allowlist"),t=function(e){var n={},t=e.allowlist||e.denylist;if(t){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)n[t[r]]=!0}return n}(e),r=function(e){return function(e,n){for(var e=ue(e),t=0,r=e;t<r.length;t++){var o=r[t];if(n[o])return!0}return!1}(e,t)===n},(e=e).hasOwnProperty("filter")&&e.filter?e.filter:r)}function ue(e){return e.className.match(/\S+/g)||[]}function se(){var e="modernizr";if(!function(){try{return window.localStorage}catch{return 1}}())return!1;try{var n=window.localStorage;return n.setItem(e,e),n.removeItem(e),!0}catch{return!1}}var cn="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",un="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/1-0-0",sn="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2";function ln(e,n,l,t,a,c,f,u,r,d,p,g,i,s,m,v){var h,y=!1,w=[],o=!0===(t="string"==typeof t?t.toLowerCase():t)||"beacon"===t||"true"===t,b=!(!(o&&window.navigator&&window.navigator.sendBeacon)||(function(e,n){n=n.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return n&&n.length&&parseInt(n[0])<=e}(13,k=window.navigator.userAgent)||function(e,n,t){t=t.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return t&&t.length&&(parseInt(t[0])<=e||parseInt(t[0])===e&&parseInt(t[1])<=n)}(10,15,k)&&function(e){return e.match("Version/.* Safari/")&&!e.match("Chrom(e|ium)")}(k)))&&o,k="get"===t,x=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),S=!k&&x&&("post"===t||o),T=S?a:"/i",C="snowplowOutQueue_".concat(e,"_").concat(S?"post2":"get");if(o&&(i={}),c=l&&se()&&S&&c||1,l)try{var A=window.localStorage.getItem(C),w=A?JSON.parse(A):[]}catch{}function O(n){var e=Object.keys(n).map(function(e){return[e,n[e]]}).reduce(function(e,n){var t=n[0],n=n[1];return e[t]=n.toString(),e},{});return{evt:e,bytes:P(JSON.stringify(e))}}function P(e){for(var n=0,t=0;t<e.length;t++){var r=e.charCodeAt(t);r<=127?n+=1:r<=2047?n+=2:55296<=r&&r<=57343?(n+=4,t++):n+=r<65535?3:4}return n}Array.isArray(w)||(w=[]),n.outQueues.push(w),x&&1<c&&n.bufferFlushers.push(function(e){y||E(e)});var I=function(e){return"object"==typeof e[0]};function j(e,n){L(n,!0,!1).send(D(_([e.evt])))}function E(e){for(void 0===e&&(e=!1);w.length&&"string"!=typeof w[0]&&"object"!=typeof w[0];)w.shift();if(w.length<1)y=!1;else{if(!ae(h))throw"No collector configured";if(y=!0,x){var n,t=void 0,r=I(w)?(n=L(t=h,!0,e),function(e){for(var n=0,t=0;n<e.length&&(t+=e[n].bytes,!(f<=t));)n+=1;return n}(w)):(t=N(w[0]),n=L(t,!1,e),1),o=setTimeout(function(){n.abort(),y=!1},p),i=function(e){for(var n=0;n<e;n++)w.shift();l&&Je(C,JSON.stringify(w.slice(0,d)))},a=function(e){i(e),E()};if(n.onreadystatechange=function(){var e;4===n.readyState&&200<=n.status&&(clearTimeout(o),n.status<300?a(r):((200<=(e=n.status)&&e<300||!m.includes(e)&&v.includes(e))&&(He.error("Status ".concat(n.status,", will not retry.")),i(r)),y=!1))},I(w)){e=w.slice(0,r);if(0<e.length){var c=!1,e=e.map(function(e){return e.evt});if(b){var u=new Blob([D(_(e))],{type:"application/json"});try{c=navigator.sendBeacon(t,u)}catch{c=!1}}!0===c?a(r):n.send(D(_(e)))}}else n.send()}else{var s;g||I(w)?y=!1:(t=new Image(1,1),s=!0,t.onload=function(){s&&(s=!1,w.shift(),l&&Je(C,JSON.stringify(w.slice(0,d))),E())},t.onerror=function(){s&&(y=s=!1)},t.src=N(w[0]),setTimeout(function(){s&&y&&(s=!1,E())},p))}}}function L(e,n,t){var r,o=new XMLHttpRequest;for(r in n?(o.open("POST",e,!t),o.setRequestHeader("Content-Type","application/json; charset=UTF-8")):o.open("GET",e,!t),o.withCredentials=s,g&&o.setRequestHeader("SP-Anonymous","*"),i)Object.prototype.hasOwnProperty.call(i,r)&&o.setRequestHeader(r,i[r]);return o}function D(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function _(e){for(var n=(new Date).getTime().toString(),t=0;t<e.length;t++)e[t].stm=n;return e}function N(e){return r?h+e.replace("?","?stm="+(new Date).getTime()+"&"):h+e}return{enqueueRequest:function(e,n){function t(e,n){He.warn("Event ("+e+"B) too big, max is "+n)}if(h=n+T,S){if((o=O(e)).bytes>=f)return t(o.bytes,f),void j(o,h);w.push(o)}else{var r=function(e){var n,t,r="?",o={co:!0,cx:!0},i=!0;for(n in e)e.hasOwnProperty(n)&&!o.hasOwnProperty(n)&&(i?i=!1:r+="&",r+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));for(t in o)e.hasOwnProperty(t)&&o.hasOwnProperty(t)&&(r+="&"+t+"="+encodeURIComponent(e[t]));return r}(e);if(0<u){var o,i=P(N(r));if(u<=i)return t(i,u),void(x&&j(o=O(e),n+a))}w.push(r)}i=!1,l&&(i=Je(C,JSON.stringify(w.slice(0,d)))),y||i&&!(w.length>=c)||E()},executeQueue:function(){y||E()},setUseLocalStorage:function(e){l=e},setAnonymousTracking:function(e){g=e},setCollectorUrl:function(e){h=e+T},setBufferSize:function(e){c=e}}}function fn(e,n,t){var r,o;return"translate.googleusercontent.com"===e?(""===t&&(t=n),e=qe(n=null!==(r=n,o="u",o=(r=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(r))&&1<(null==r?void 0:r.length)?Ge(o,r[1]):null)&&void 0!==o?o:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=qe(n=document.links[0].href)),[e,n,t]}var le=0;function dn(e,n,t,r){function o(e,n){return e=parseInt(e),isNaN(e)?n:e}function i(e){return e?o(e,void 0):void 0}var a,c=new Date,c=Math.round(c.getTime()/1e3);e?(a=e.split(".")).unshift("0"):a=["1",n,c,r,c,"",t],a[6]&&"undefined"!==a[6]||(a[6]=ze.v4()),a[7]&&"undefined"!==a[7]||(a[7]=""),a[8]&&"undefined"!==a[8]||(a[8]=""),a[9]&&"undefined"!==a[9]||(a[9]=""),a[10]&&"undefined"!==a[10]||(a[10]=0);return[a[le],a[1],o(a[2],c),o(a[3],r),o(a[4],c),i(a[5]),a[6],a[7],a[8],i(a[9]),o(a[10],0)]}function Ye(e,n){n=(n=void 0===n?{memorizedVisitCount:1}:n).memorizedVisitCount,mn(e)?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=n,n=ze.v4();return e[6]=n,e[10]=0,e[8]="",e[9]=void 0,n}function pn(e){e[4]=Math.round((new Date).getTime()/1e3)}function gn(e,n,t){var r=e[9];return{userId:t?"00000000-0000-0000-0000-000000000000":e[1],sessionId:e[6],eventIndex:e[10],sessionIndex:e[3],previousSessionId:!t&&e[7]||null,storageMechanism:"localStorage"==n?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[8]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function mn(e){return"0"===e[le]}var m="x";function vn(){return{viewport:fe(function(){var e;{var n;n="innerWidth"in window?(e=window.innerWidth,window.innerHeight):(n=document.documentElement||document.body,e=n.clientWidth,n.clientHeight)}return 0<=e&&0<=n?e+m+n:null}()),documentSize:fe((e=document.documentElement,n=(n=document.body)?Math.max(n.offsetHeight,n.scrollHeight):0,t=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),e=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n),isNaN(t)||isNaN(e)?"":t+m+e)),resolution:fe(screen.width+m+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var e,n,t}function fe(e){return e&&e.split(m).map(function(e){return Math.floor(Number(e))}).join(m)}function de(e,n,t,r,o,i){var a,c,B,l,f,d,R,U,M,p,V,z,H,J,q,F,u,s,G,g,m,X,v,h,W,Y,y,Q,Z,w,K,b,k,x,$,ee,ne,S,te,T,C,re,A,O,oe,ie,P,ae,I,ce,ue,se,j=[],t=(e=e,n=n,t=t,r=r,a=o,(c=i=void 0===i?{}:i).eventMethod=null!=(o=c.eventMethod)?o:"post",o=null!=(o=null==(o=null==c?void 0:c.contexts)?void 0:o.browser)&&o,B=null==(i=null==(i=null==c?void 0:c.contexts)?void 0:i.webPage)||i,j.push({beforeTrack:function(e){var n,t,r=be("ses"),o=N(),i=0===o[10];G=!!M&&!!We(M),$||G?Ie():(mn(o)?(u=r||"none"==C?o[6]:Ye(o),A=o[3]):(new Date).getTime()-re>1e3*ne&&(u=Ye(o,{memorizedVisitCount:++A})),pn(o),n=e,0===(t=o)[10]&&(n=n.build(),t[8]=n.eid,n=n.dtm||n.ttm,t[9]=n?parseInt(n):void 0),o[10]+=1,n=(t=vn()).viewport,t=t.documentSize,e.add("vp",n),e.add("ds",t),e.add("vid",ve(A)),e.add("sid",ve(u)),e.add("duid",me(o[1])),e.add("uid",me(s)),E(),e.add("refr",L(l||h)),e.add("url",L(f||v)),n=gn(o,C,T),!ae||T&&!S||(t={schema:sn,data:t=n},e.addContextEntity(t)),"none"!=C&&(Oe(o),e=Ae(),r&&!i||!e||!I||ce||(I(n),ce=!1)),re=(new Date).getTime())}}),B&&j.push({contexts:function(){return[{schema:cn,data:{id:_e()}}]}}),o&&j.push({contexts:function(){return[{schema:un,data:Ve(Ve({},vn()),{tabId:Ne()})}]}}),j.push.apply(j,null!=(i=c.plugins)?i:[]),g=Ze({base64:c.encodeBase64,corePlugins:j,callback:function(e){$||G||O.enqueueRequest(e.build(),W)}}),o=document.characterSet||document.charset,m=fn(window.location.hostname,window.location.href,on()),X=rn(m[0]),v=m[1],h=m[2],i=null!=(i=c.platform)?i:"web",W=Le(r),r=null!=(r=c.postPath)?r:"/com.snowplowanalytics.snowplow/tp2",Y=null!=(Y=c.appId)?Y:"",y=document.title,Q=null==(x=c.resetActivityTrackingOnPageView)||x,Z=null!=(x=c.cookieName)?x:"_sp_",w=null!=(x=c.cookieDomain)?x:void 0,K="/",b=null!=(x=c.cookieSameSite)?x:"None",k=null==(x=c.cookieSecure)||x,x=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,$=typeof c.respectDoNotTrack<"u"&&c.respectDoNotTrack&&("yes"===x||"1"===x),ee=null!=(x=c.cookieLifetime)?x:63072e3,ne=null!=(x=c.sessionCookieTimeout)?x:1800,S=de(c),te=pe(c),T=ge(c),C=fe(c),re=(new Date).getTime(),A=1,O=ln(e,a,"localStorage"==C||"cookieAndLocalStorage"==C,c.eventMethod,r,null!=(x=c.bufferSize)?x:1,null!=(r=c.maxPostBytes)?r:4e4,null!=(x=c.maxGetBytes)?x:0,null==(r=c.useStm)||r,null!=(x=c.maxLocalStorageQueueSize)?x:1e3,null!=(r=c.connectionTimeout)?r:5e3,te,null!=(x=c.customHeaders)?x:{},null==(r=c.withCredentials)||r,null!=(x=c.retryStatusCodes)?x:[],(null!=(r=c.dontRetryStatusCodes)?r:[]).concat([400,401,403,410,422])),P={enabled:ie=oe=!1,installed:!1,configurations:{}},ae=null!=(r=null==(x=c.contexts)?void 0:x.session)&&r,I=c.onSessionUpdateCallback,ce=!1,c.hasOwnProperty("discoverRootDomain")&&c.discoverRootDomain&&(w=an(b,k)),x=vn(),r=x.browserLanguage,ue=x.resolution,se=x.colorDepth,x=x.cookiesEnabled,g.setTrackerVersion(t),g.setTrackerNamespace(n),g.setAppId(Y),g.setPlatform(i),g.addPayloadPair("cookie",x?"1":"0"),g.addPayloadPair("cs",o),g.addPayloadPair("lang",r),g.addPayloadPair("res",ue),g.addPayloadPair("cd",se),ke(),Ee(),c.crossDomainLinker&&ye(c.crossDomainLinker),Ve(Ve({},{getDomainSessionIndex:function(){return A},getPageViewId:_e,getTabId:Ne,newSession:function(){var e,n=N();mn(n)?(u="none"!=C?Ye(n):n[6],A=n[3]):u=Ye(n,{memorizedVisitCount:++A}),pn(n),"none"!=C&&(e=gn(n,C,T),Oe(n),Ae())&&I&&(ce=!0,I(e)),re=(new Date).getTime()},getCookieName:D,getUserId:function(){return s},getDomainUserId:function(){return N()[1]},getDomainUserInfo:N,setReferrerUrl:function(e){l=e},setCustomUrl:function(e){var n,t;E(),n=v,f=we(e=e)?e:"/"===e.slice(0,1)?we(n)+"://"+qe(n)+e:(n=(t=(n=0<=(t=(n=L(n)).indexOf("?"))?n.slice(0,t):n).lastIndexOf("/"))!==n.length-1?n.slice(0,t+1):n)+e},setDocumentTitle:function(e){y=document.title,d=e},discardHashTag:function(e){R=e},discardBrace:function(e){U=e},setCookiePath:function(e){K=e,ke()},setVisitorCookieTimeout:function(e){ee=e},crossDomainLinker:function(e){ye(e)},enableActivityTracking:function(e){P.configurations.pagePing||(P.enabled=!0,P.configurations.pagePing=Ue(Ve(Ve({},e),{callback:Me})))},enableActivityTrackingCallback:function(e){P.configurations.callback||(P.enabled=!0,P.configurations.callback=Ue(e))},updatePageActivity:function(){_()},setOptOutCookie:function(e){M=e},setUserId:function(e){s=e},setUserIdFromLocation:function(e){E(),s=Ge(e,v)},setUserIdFromReferrer:function(e){E(),s=Ge(e,h)},setUserIdFromCookie:function(e){s=We(e)},setCollectorUrl:function(e){W=Le(e),O.setCollectorUrl(W)},setBufferSize:function(e){O.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),O.executeQueue(),e.newBufferSize&&O.setBufferSize(e.newBufferSize)},trackPageView:function(e){Re(e=void 0===e?{}:e)},preservePageViewId:function(){oe=!0},disableAnonymousTracking:function(e){c.anonymousTracking=!1,je(e),Ee(),O.executeQueue()},enableAnonymousTracking:function(e){var n;c.anonymousTracking=null==(n=e&&(null==e?void 0:e.options))||n,je(e),S||De()},clearUserData:Ie}),{id:e,namespace:n,core:g,sharedState:a})),le=Ve(Ve({},t),{addPlugin:function(e){var n;le.core.addPlugin(e),null!=(n=(e=e.plugin).activateBrowserPlugin)&&n.call(e,le)}});function fe(e){return null!=(e=e.stateStorageStrategy)?e:"cookieAndLocalStorage"}function de(e){return"boolean"!=typeof e.anonymousTracking&&null!==(e=!0===(null==(e=e.anonymousTracking)?void 0:e.withSessionTracking))&&e}function pe(e){return"boolean"!=typeof e.anonymousTracking&&null!==(e=!0===(null==(e=e.anonymousTracking)?void 0:e.withServerAnonymisation))&&e}function ge(e){return!!e.anonymousTracking}function me(e){return T?null:e}function ve(e){return S?e:me(e)}function E(){(m=fn(window.location.hostname,window.location.href,on()))[1]!==v&&(h=on(v)),X=rn(m[0]),v=m[1]}function he(e){var n=(new Date).getTime(),e=e.currentTarget;null!=e&&e.href&&(e.href=function(e,n,t){var r=n+"="+t,o=(e=(t=e.split("#"))[0].split("?")).shift(),i=e.join("?");if(i){for(var a=!0,c=i.split("&"),u=0;u<c.length;u++)if(c[u].substr(0,n.length+1)===n+"="){a=!1,c[u]=r,i=c.join("&");break}a&&(i=r+"&"+i)}else i=r;return t[0]=o+"?"+i,t.join("#")}(e.href,"_sp",F+"."+n))}function ye(e){for(var n=0;n<document.links.length;n++){var t=document.links[n];!t.spDecorationEnabled&&e(t)&&(Fe(t,"click",he,!0),Fe(t,"mousedown",he,!0),t.spDecorationEnabled=!0)}}function L(e){var n;return R&&(n=new RegExp("#.*"),e=e.replace(n,"")),U&&(n=new RegExp("[{}]","g"),e=e.replace(n,"")),e}function we(e){e=new RegExp("^([a-z]+):").exec(e);return e?e[1]:null}function D(e){return Z+e+"."+q}function be(e){e=D(e);if("localStorage"!=C)return"cookie"==C||"cookieAndLocalStorage"==C?We(e):void 0;try{var n=window.localStorage,t=n.getItem(e+".expires");if(null===t||+t>Date.now())return n.getItem(e);n.removeItem(e),n.removeItem(e+".expires")}catch{}}function ke(){E(),q=Ke((w||X)+(K||"/")).slice(0,4)}function _(){var e=new Date;p=e.getTime()}function xe(){var e,n;e=Se(),(n=e[0])<V?V=n:z<n&&(z=n),(n=e[1])<H?H=n:J<n&&(J=n),_()}function Se(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function Te(){var e=Se(),n=e[0],n=(z=V=n,e[1]);J=H=n}function Ce(e){return Math.round(e)}function Ae(){return Pe(D("ses"),"*",ne)}function Oe(e){var n=D("id");(e=e).shift(),Pe(n,e.join("."),ee)}function Pe(e,n,t){return!(T&&!S)&&("localStorage"==C?Je(e,n,t):("cookie"==C||"cookieAndLocalStorage"==C)&&(We(e,n,t,K,w,b,k),-1!==document.cookie.indexOf("".concat(e,"="))))}function Ie(e){var n=D("id"),t=D("ses");$e(n),$e(t),Xe(n,w,b,k),Xe(t,w,b,k),null!=e&&e.preserveSession||(u=ze.v4(),A=1),null!=e&&e.preserveUser||(F=T?"":ze.v4(),s=null)}function je(e){e&&e.stateStorageStrategy&&(c.stateStorageStrategy=e.stateStorageStrategy,C=fe(c)),T=ge(c),S=de(c),te=pe(c),O.setUseLocalStorage("localStorage"==C||"cookieAndLocalStorage"==C),O.setAnonymousTracking(te)}function Ee(){var e,n,t,r,o;T&&!S||(e="none"!=C&&!!be("ses"),n=N(),r=T,(t=n)[1]?o=t[1]:(o=r?"":ze.v4(),t[1]=o),F=o,u=e?n[6]:Ye(n),A=n[3],"none"!=C&&(Ae(),pn(n),Oe(n)))}function N(){return"none"==C?["1","",0,0,0,void 0,"","","",void 0,0]:dn(be("id")||void 0,F,u,A)}function Le(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function De(){oe&&null!=a.pageViewId||(a.pageViewId=ze.v4())}function _e(){return null==a.pageViewId&&(a.pageViewId=ze.v4()),a.pageViewId}function Ne(){if("none"===C||T||!B)return null;var e="_sp_tab_id",n=en(e);if(!n){var t=e,r=ze.v4();try{window.sessionStorage.setItem(t,r)}catch{}n=en(e)}return n||null}function Be(e,n){return(e||[]).concat(n?n():[])}function Re(e){var r,n,t=e.title,o=e.context,i=e.timestamp,a=e.contextCallback,e=(E(),ie&&De(),ie=!0,y=document.title,tn((d=t)||y)),e=(g.track((t={pageUrl:L(f||v),pageTitle:e,referrer:L(l||h)},e=t.pageUrl,c=t.pageTitle,t=t.referrer,(n=Qe()).add("e","pv"),n.add("url",e),n.add("page",c),n.add("refr",t),n),Be(o,a),i),new Date),c=!1;if(P.enabled&&!P.installed&&(c=P.installed=!0,(r={update:function(){var e,n,t;typeof window<"u"&&"function"==typeof window.addEventListener&&(e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),t=function(){},window.addEventListener("testPassiveEventSupport",t,n),window.removeEventListener("testPassiveEventSupport",t,n),r.hasSupport=e)}}).update(),t="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",Object.prototype.hasOwnProperty.call(r,"hasSupport")?Fe(document,t,_,{passive:!0}):Fe(document,t,_),Te(),["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach((n=function(e,n){return void 0===n&&(n=_),function(e){return Fe(document,e,n)}})(document)),["resize","focus","blur"].forEach(n(window)),n(window,xe)("scroll")),P.enabled&&(Q||c)){p=e.getTime();var u=void 0;for(u in P.configurations){var s=P.configurations[u];s&&(window.clearInterval(s.activityInterval),function(n,t,r){function o(){var e=new Date;p+n.configHeartBeatTimer>e.getTime()&&i(n.callback,Be(t,r))}var i=function(e,n){E(),e({context:n,pageViewId:_e(),minXOffset:V,minYOffset:H,maxXOffset:z,maxYOffset:J}),Te()};0!=n.configMinimumVisitLength?n.activityInterval=window.setTimeout(function(){var e=new Date;p+n.configMinimumVisitLength>e.getTime()&&i(n.callback,Be(t,r)),n.activityInterval=window.setInterval(o,n.configHeartBeatTimer)},n.configMinimumVisitLength):n.activityInterval=window.setInterval(o,n.configHeartBeatTimer)}(s,o,a))}}}function Ue(e){var n=e.minimumVisitLength,t=e.heartbeatDelay,e=e.callback;if(nn(n)&&nn(t))return{configMinimumVisitLength:1e3*n,configHeartBeatTimer:1e3*t,callback:e};He.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Me(e){var n,t,r,o=e.context,i=e.minXOffset,a=e.minYOffset,c=e.maxXOffset,e=e.maxYOffset,u=document.title;u!==y&&(y=u,d=void 0),g.track((u={pageUrl:L(f||v),pageTitle:tn(d||y),referrer:L(l||h),minXOffset:Ce(i),maxXOffset:Ce(c),minYOffset:Ce(a),maxYOffset:Ce(e)},i=u.pageUrl,c=u.pageTitle,a=u.referrer,e=u.minXOffset,n=u.maxXOffset,t=u.minYOffset,u=u.maxYOffset,(r=Qe()).add("e","pp"),r.add("url",i),r.add("page",c),r.add("refr",a),e&&!isNaN(Number(e))&&r.add("pp_mix",e.toString()),n&&!isNaN(Number(n))&&r.add("pp_max",n.toString()),t&&!isNaN(Number(t))&&r.add("pp_miy",t.toString()),u&&!isNaN(Number(u))&&r.add("pp_may",u.toString()),r),o)}return j.forEach(function(e){var n;null!=(n=e.activateBrowserPlugin)&&n.call(e,le)}),le}var h={};function y(e,n){try{(function(e,n){for(var t=[],r=0,o=e;r<o.length;r++){var i=o[r];n.hasOwnProperty(i)?t.push(n[i]):He.warn(i+" not configured")}return t})(e??Object.keys(h),h).forEach(n)}catch(e){He.error("Function failed",e)}}function pe(n,e){y(e,function(e){e.core.track(ne({event:n.event}),n.context,n.timestamp)})}var w,b,r=typeof window<"u"?(w=new function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},b=document,e=window,b.visibilityState&&Fe(b,"visibilitychange",function(){"hidden"==b.visibilityState&&w.bufferFlushers.forEach(function(e){e(!1)})},!1),Fe(e,"beforeunload",function(){w.bufferFlushers.forEach(function(e){e(!1)})},!1),"loading"===document.readyState?(b.addEventListener?b.addEventListener("DOMContentLoaded",function e(){b.removeEventListener("DOMContentLoaded",e,!1),k()}):b.attachEvent&&b.attachEvent("onreadystatechange",function e(){"complete"===b.readyState&&(b.detachEvent("onreadystatechange",e),k())}),Fe(e,"load",k,!1)):k(),w):void 0;function k(){var e;if(!w.hasLoaded)for(w.hasLoaded=!0,e=0;e<w.registeredOnLoadHandlers.length;e++)w.registeredOnLoadHandlers[e]();return!0}var ge,x,me,ve,S={},T={};function he(e,n,t){for(var r,o,i,a;null!==(r=n.parentElement)&&null!=r&&"A"!==(o=n.tagName.toUpperCase())&&"AREA"!==o;)n=r;var c,u,s=n;null!=s.href&&(c=(u=s.hostname||qe(s.href)).toLowerCase(),u=s.href.replace(u,c),new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i").test(u)||(c=s.id,i=ue(s),a=s.target,s=T[e.id].linkTrackingContent?s.innerHTML:void 0,u=unescape(u),e.core.track(te({targetUrl:u,elementId:c,elementClasses:i,elementTarget:a,elementContent:s}),function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return null!=(e=null==e?void 0:e.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch{}}).filter(Boolean))?e:[]}(t,n))))}function ye(r,o){return function(e){var n=(e=e||window.event).which||e.button,t=e.target||e.srcElement;"click"===e.type?t&&he(S[r],t,o):"mousedown"===e.type?1!==n&&2!==n||!t?T[r].lastButton=T[r].lastTarget=null:(T[r].lastButton=n,T[r].lastTarget=t):"mouseup"===e.type&&(n===T[r].lastButton&&t===T[r].lastTarget&&he(S[r],t,o),T[r].lastButton=T[r].lastTarget=null)}}function we(e,n){var e=void 0===e?{}:e,t=e.options,r=e.pseudoClicks,o=e.trackContent,e=e.context;T[n]={linkTrackingContent:o,linkTrackingContext:e,linkTrackingPseudoClicks:r,linkTrackingFilter:ce(t)}}function be(e){for(var n,t,r=document.links,o=0;o<r.length;o++)null!=(n=(t=T[e]).linkTrackingFilter)&&n.call(t,r[o])&&!r[o][e]&&(n=e,t=r[o],T[n].linkTrackingPseudoClicks?(Fe(t,"mouseup",ye(n,T[n].linkTrackingContext),!1),Fe(t,"mousedown",ye(n,T[n].linkTrackingContext),!1)):Fe(t,"click",ye(n,T[n].linkTrackingContext),!1),r[o][e]=!0)}const C=window.jobmatix.p||{},ke=window.jobmatix.q||[],xe=["https://unpkg.com/@jobmatix.com/pixel/script.min.js","https://unpkg.com/@jobmatix.com/pixel/jm.min.js","./script.min.js"],Se=["production","local","development","demo","uat"],Te=["applicant","apply_start","job_alert","resume","register"],Ce={type:"conversion_type"},Ae={enableActivityTracking:function(n,e){y(e,function(e){e.enableActivityTracking(n)})},setReferrerUrl:function(n,e){y(e,function(e){e.setReferrerUrl(n)})},trackPageView:function(n,e){y(e,function(e){e.trackPageView(n)})},trackSelfDescribingEvent:pe,enableLinkClickTracking:function(n,e){void 0===n&&(n={}),(e=void 0===e?Object.keys(S):e).forEach(function(e){S[e]&&(S[e].sharedState.hasLoaded?(we(n,e),be(e)):S[e].sharedState.registeredOnLoadHandlers.push(function(){we(n,e),be(e)}))})},conversion:function(t){try{if(null==t||!t.type)throw new Error("Conversion type not found");if(!Te.includes(t.type))throw new Error("Conversion type not accepted");const r={};Object.keys(t).forEach(e=>{var n=Ce[e]||e;t[e]&&(r[n]=String(t[e]))}),pe({event:{schema:"iglu:com.jobmatix/conversion/jsonschema/1-0-0",data:r}})}catch(e){console.error(e)}}};if(null!=C&&C.pixel_id||(e=xe.map(e=>document.querySelector(`script[src="${e}"]`)).filter(e=>e),C.pixel_id=(null==(e=null==e?void 0:e[0])?void 0:e.getAttribute("id"))||""),null!=C&&C.environment||(C.environment="production"),null==C||!C.pixel_id)throw new Error("Pixel ID not found");if(!Se.includes(null==C?void 0:C.environment))throw new Error("Environment not accepted");function Oe(...n){ke.some(e=>e[0]===n[0])||jobmatix(...n)}e="jm",ge="https://pixel.jobmatix.app",void 0===(x={"jobmatix-platform-pixel":C.pixel_id,plugins:[{activateBrowserPlugin:function(e){S[e.id]=e}}],eventMethod:"post",platform:"web",cookieName:"_jm_",cookieSameSite:"Lax",contexts:{webPage:!0,performanceTiming:!0}})&&(x={}),r&&(me=e=e,ve="js-".concat("3.13.1"),ge=ge,r=r,x=x,h.hasOwnProperty(e)||(h[e]=de(e,me,ve,ge,r,x),h[e])),window.jobmatix=(e,...n)=>{try{(0,Ae[e])(...n)}catch{console.error(`Function ${e} not found`)}},ke.forEach(e=>{jobmatix(...e)}),Oe("enableActivityTracking",{minimumVisitLength:10,heartbeatDelay:10}),Oe("enableLinkClickTracking"),Oe("setReferrerUrl",document.referrer),Oe("trackPageView",{context:[{schema:"iglu:com.jobmatix/jobmatix_platform_pixel/jsonschema/1-0-0",params:C}]})});